<tarea id="RegModificaITP" nombre="Registra Modifica Invitación a Tres Personas" autor="Monserrat Gerardo">
    <pagina id="1">
        <nivel id="barreUsuarios" nombre="barreUsuarios" interactivo="false">
            <componente id="barreUsuarios" nombre="barreUsuarios" tipo="cursor">
                <tabla schema="entity" nombre="usuario">
                    <campo name="id_unidad_responsable" filtroCampo="id_unidad_responsable" filtroOperador="=" filtroValor="$config.ur$"/>
                    <campo name="id_usuario"/>
                    <campo name="nombre_usuario" filtroCampo="nombre_usuario" filtroOperador="=" filtroValor="$protocolarios.user$"/>
                    <campo name="folio" text="Folio" local="true" type="long" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                </tabla>
            </componente>
        </nivel>
        <nivel nombre="periodo" id="periodo" interactivo="false">   
            <componente nombre="periodo" id="periodo" tipo="cursor">
                <tabla nombre="periodo" schema="catalog">
                    <campo filtroValor="$config.ur$" filtroOperador="=" filtroCampo="id_unidad_responsable" name="id_unidad_responsable" llaveForanea="false"/>
                    <campo name="id_periodo" llaveForanea="false"/>
                    <campo filtroValor="true" filtroOperador="=" filtroCampo="estatus" name="estatus"/>
                    <campo filtroValor="3" filtroOperador="=" filtroCampo="id_estatus" name="id_estatus"/>
                </tabla>
            </componente>
        </nivel>
        <nivel id="GrabaPC" nombre="Datos del Proyecto de Compra" interactivo="false">
            <componente tipo="cursor" id="GrabaPC" nombre="Datos del Proyecto de Compra">
                <tabla schema="operation" nombre="compras">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false"/>
                    <campo name="folio_req" text="Requisicion" llaveForanea="false" filtroValor="$inParam.folio_req$" filtroOperador="=" filtroCampo="folio_req"/>
                    <campo name="id_compras" text="Folio Proyecto Compra" filtroValor="$inParam.id_compras$" filtroOperador="=" filtroCampo="id_compras" llaveForanea="false"/>
                    <campo name="proceso" text="Tipo de Adjudicación" llaveForanea="false"/>
                    <campo name="fecha_registro" text="Fecha"/>
                    <campo name="id_cat_fuente_financiamiento" text="ID Fuente de Financiamiento"/>
                    <campo name="id_fuente_financiamiento" text="Fuente de Financiamiento"/>
                    <campo name="referencia" text="Referencia Normativa"/>
                    <campo name="total" text="Total"/>
                    <campo name="Folio" text="Folio" local="true" type="long" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                    <!--<campo name="no_ofertantes" text="Ofertantes" calc="@consultaDirec('SELECT no_ofertantes AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')"/>-->
                    <campo name="tipo_adjudicacion" text="Tipo" local="true" type="long" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')"/>
                </tabla>
                <nivel id="GrabaAD" nombre="Datos del Proyecto de Compra" interactivo="false" ejecutar="%barreUsuarios.barreUsuarios.folio%==null">
                    <componente tipo="altaDirect" id="GrabAD" nombre="Datos del Proyecto de Compra">
                        <tabla schema="operation" nombre="proc_add">
                            <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false"/>
                            <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false"/>
                            <campo name="id_tipo_adjudicacion" text="ID Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false"/>
                            <campo name="folio_add" text="Adjudicacion Directa" generacion="@prox()+1" autogenerado="true"/>
                            <campo name="proyecto_compra" text="Proyecto Compra" calc="$inParam.id_compras$" llaveForanea="false"/>
                            <campo name="tipo_adjudicacion" text="ID Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false"/>
                            <campo name="fecha_elaboracion" text="Fecha Elaboración" calc="@fechaSistema(&quot; YYYY/MM/dd HH:mm:ss&quot;)"/>
                            <campo name="id_cat_fuente_financiamiento" text="ID Fuente de Financiamiento" calc="5"/>
                            <campo name="id_fuente_financiamiento" text="Fuente de Financiamiento" calc="%GrabaPC.GrabaPC.id_fuente_financiamiento%"/>
                            <!--<campo name="referencia_normativa" text="Referencia Normativa" calc="%GrabaPC.GrabaPC.referencia%"/>-->
                            <campo name="ultimo_usuario_modificador" text="Usuario Modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%"/>
                            <campo name="estatus_adjudicacion" text="Usuario Modificador" calc="1"/>
                            <campo name="usuario_elaboracion" text="Usuario Elaboración" calc="%barreUsuarios.barreUsuarios.id_usuario%"/>
                            <campo name="total_proyecto_compra" text="Total" calc="%GrabaPC.GrabaPC.total%"/>
                        </tabla>
                    </componente>
                </nivel>
            </componente>
        </nivel>
        <nivel id="foliodet" nombre="foliodet" interactivo="false">
            <componente id="foliodet" nombre="foliodet" tipo="cursor">
                <tabla schema="catalog" nombre="dummy">
                    <campo name="id" text="Identificador" filtroCampo="id" filtroOperador="=" filtroValor="1" visible="false"/>
                    <campo name="folio" text="Folio" local="true" type="long" calc="@consultaDirec('SELECT folio_add_detalle AS result FROM operation.proc_add_detalle WHERE ur='+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND folio_add='+@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')+' AND tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                    <campo name="folio_itp" text="Folio" local="true" type="string" calc="@consultaDirec('SELECT folio_itp AS result FROM operation.proc_add_convocatoria WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                </tabla>
            </componente>    
        </nivel>
        <nivel id="GrabaPCD" nombre="Datos del Proyecto de Compra" interactivo="false">
            <componente tipo="cursor" id="GrabaPCD" nombre="Datos del Proyecto de Compra">
                <tabla schema="operation" nombre="compras_det">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false"/>
                    <campo name="folio_req" text="Requisicion" llaveForanea="false" filtroValor="$inParam.folio_req$" filtroOperador="=" filtroCampo="folio_req"/>
                    <campo name="id_compras" text="Folio Proyecto Compra" filtroValor="$inParam.id_compras$" filtroOperador="=" filtroCampo="id_compras" llaveForanea="false"/>
                    <campo name="id_compras_det" text="Folio Detalle Proyecto Compra"/>
                    <campo name="clave_articulo" text="Articulo" llaveForanea="false"/>
                    <campo name="fecha_registro" text="Fecha"/>
                    <campo name="id_cat_cog" text="ID COG"/>
                    <campo name="clasificador_objeto_gasto" text="COG"/>
                    <campo name="cantidad" text="Cantidad"/>
                    <campo name="centro_registro" text="Centro Registro"/>
                    <campo name="id_cat_fondo_contable" text="ID Fondo Contable"/>
                    <campo name="fondo_contable" text="Fondo Contable"/>
                    <campo name="importe_unitario" text="Importe Unitario"/>
                    <campo name="importe_total" text="Importe Total"/>
                    <campo name="id_cat_fuente_financiamiento" text="ID Fuente de Financiamiento"/>
                    <campo name="id_fuente_financiamiento" text="Fuente de Financiamiento"/>
                    <campo name="total" text="Total"/>
                    <campo name="folio_req_detalle" text="Folio Detalle Requisicion"/>
                </tabla>
                <nivel id="GrabaADD" nombre="Datos del Proyecto de Compra" interactivo="false" ejecutar="%foliodet.foliodet.folio%==null"> 
                    <componente tipo="altaDirect" id="GrabADD" nombre="Datos del Proyecto de Compra">
                        <tabla schema="operation" nombre="proc_add_detalle">
                            <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false"/>
                            <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false"/>
                            <campo name="tipo_adjudicacion" text="ID Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false"/>
                            <campo name="folio_add" text="Adjudicacion Directa" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                            <campo name="folio_add_detalle" text="Adjudicacion Directa Detalle" generacion="@prox()+1" autogenerado="true"/>
                            <campo name="clave_articulo" text="Articulo" llaveForanea="false" calc="%GrabaPCD.GrabaPCD.clave_articulo%"/>
                            <campo name="id_cat_cog" text="ID COG" calc="%GrabaPCD.GrabaPCD.id_cat_cog%"/>
                            <campo name="id_cog" text="COG" calc="%GrabaPCD.GrabaPCD.clasificador_objeto_gasto%"/>
                            <campo name="id_cat_centro_registro" text="ID Centro Registro" calc="@consultaDirec('SELECT id_cat_unidad_ejecutora_gasto AS result FROM operation.requisicion WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND folio_req='+'\\''+$inParam.folio_req$+'\\'','result','long','MAGNITUS')"/>
                            <campo name="centro_registro" text="Centro Registro" calc="@consultaDirec('SELECT id_unidad_ejecutora_gasto AS result FROM operation.requisicion WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND folio_req='+'\\''+$inParam.folio_req$+'\\'','result','string','MAGNITUS')"/>
                            <campo name="id_cat_fondo_contable" text="ID Fondo Contable" calc="%GrabaPCD.GrabaPCD.id_cat_fondo_contable%"/>
                            <campo name="fondo_contable" text="Fondo Contable" calc="%GrabaPCD.GrabaPCD.fondo_contable%"/>
                            <campo name="cantidad" text="Cantidad" calc="%GrabaPCD.GrabaPCD.cantidad%"/>
                            <campo name="importe_unitario" text="Importe Unitario" calc="%GrabaPCD.GrabaPCD.importe_unitario%"/>
                            <campo name="tasa_iva" text="Tasa IVA" calc="@consultaDirec('SELECT tasa_iva AS result FROM catalog.tasa_iva WHERE id_tasa_iva= '+@consultaDirec('SELECT id_tasa_iva AS result FROM operation.requisicion_detalle WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND folio_req='+$inParam.folio_req$+' AND folio_req_detalle='+%GrabaPCD.GrabaPCD.folio_req_detalle%,'result','long','MAGNITUS'),'result','decimal','MAGNITUS')"/>
                            <campo name="importe_total_detalle" text="Importe Total Detalle" calc="%GrabaPCD.GrabaPCD.importe_total%"/>
                            <campo name="folio_req" text="Folio Requisicion" calc="%GrabaPCD.GrabaPCD.folio_req%"/>
                            <campo name="folio_req_detalle" text="Folio Requisicion" calc="%GrabaPCD.GrabaPCD.folio_req_detalle%"/>
                        </tabla>
                    </componente>
                </nivel>
            </componente>
        </nivel>
        <nivel id="BarreVacio" nombre="BarreVacio" interactivo="false">
            <componente id="BarreVacio" nombre="BarreVacio" tipo="cursor">
                <tabla schema="operation" nombre="proc_add_convocatoria">
                    <campo name="ur" filtroCampo="ur" filtroOperador="=" filtroValor="$inParam.ur$"/>
                    <campo name="periodo" filtroCampo="periodo" filtroOperador="=" filtroValor="$inParam.periodo$" llaveForanea="false"/>
                    <campo name="id_tipo_adjudicacion" filtroCampo="id_tipo_adjudicacion" filtroOperador="=" filtroValor="$inParam.adjudicacion$" llaveForanea="false"/>
                    <campo name="folio_add" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" llaveForanea="false"/>
                    <campo name="folio_convocatoria" text="Concepto" filtroCampo="folio_convocatoria" filtroOperador="!=" filtroValor="null"/>
                </tabla>
            </componente>
        </nivel>
        <!--DATOS GENERALES EJECUTAR ==NULL-->
        <nivel id="nlBaseConITP" nombre="Datos Generales" mostrarNivelAnterior="false" mostrarProximoNivel="false" ejecutar="%BarreVacio.BarreVacio.folio_convocatoria%==null">
            <componente id="cpBaseConLPI" nombre="Datos Generales" tipo="formulario" accionDefault="insertar">
                <tabla schema="operation" nombre="proc_add_convocatoria">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" visible="false" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" columnas="3" margen-izquierdo="2"/>
                    <!--CONCATENADO PARA FOLIO-->
                    <campo name="folio_itp" text="Folio de Invitación a Tres Personas" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3" />
                    <campo name="proyecto_compra" text="Proyecto de Compra" local="true" type="string" calc="$inParam.id_compras$" columnas="3" visible="false"/>
                    <campo name="fecha_pccompra" text="Fecha Proyecto de Compra" local="true" type="string" calc="$inParam.fecha_referencia$" columnas="3" visible="false"/>
                    <campo name="fuente_financiamiento" text="Fuente de Financiamiento" local="true" type="string" calc="$inParam.id_fuente_financiamiento$" columnas="3" visible="false"/>
                    <campo name="folio_convocatoria" text="Folio de Convocatoria*" visible="true" columnas="3"  validacion="%folio_convocatoria%==null" validacionMensaje="Debe Capturarse Folio Convocatoria"/>
                    <campo name="periodo_contratacion" text="Periodo de Contratación*" validacion="%periodo_contratacion%==null" validacionMensaje="Debe Capturarse Periodo de Contratación" mascara="C" visible="true" columnas="3" />
                </tabla>
                <estilos>
                    <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4"/>
                </estilos>
                <acciones>
                    <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                </acciones>
            </componente>
        </nivel>
        
        <!--NIVEL DATOS GENERALES EJECTURAR = NULL-->
        <nivel id="nlBaseConITPa" nombre="Datos Generales" mostrarNivelAnterior="false" mostrarProximoNivel="false" ejecutar="%BarreVacio.BarreVacio.folio_convocatoria%!=null">
            <componente id="cpBaseConITPa" nombre="Datos Generales" tipo="formulario" accionDefault="editar">
                <tabla schema="operation" nombre="proc_add_convocatoria">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" visible="false" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" columnas="3" margen-izquierdo="2"/>
                    <!--CONCATENADO PARA FOLIO-->
                   
                    <campo name="folio_itp" text="Folio de Invitación a Tres Personas" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3"  />
                    <campo name="proyecto_compra" text="Proyecto de Compra" local="true" type="string" calc="$inParam.id_compras$" columnas="3" visible="false" />
                    <campo name="fecha_pccompra" text="Fecha Proyecto de Compra" local="true" type="string" calc="$inParam.fecha_referencia$" columnas="3" visible="false"/>
                    <campo name="fuente_financiamiento" text="Fuente de Financiamiento" local="true" type="string" calc="$inParam.id_fuente_financiamiento$" columnas="3" visible="false"/>
                    <campo name="folio_convocatoria" text="Folio de Convocatoria*" visible="true" columnas="3"  validacion="%folio_convocatoria%==null" validacionMensaje="Debe Capturarse Folio Convocatoria"/>
                    <campo name="periodo_contratacion" text="Periodo de Contratación*" validacion="%periodo_contratacion%==null" validacionMensaje="Debe Capturarse Periodo de Contratación"  columnas="3"  />
                </tabla>
                <estilos>
                    <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4"/>
                </estilos>
                <acciones>
                    <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                </acciones>
            </componente>
        </nivel>
        <nivel id="nlSelOfertantes" nombre="Selección de Participantes" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpSelOfertantes" nombre="Selección de Participantes" tipo="tabla" mostrarEditar="false" mostrarAgregar="true" mostrarEliminar="true" exportarExcel="false" exportarPDF="false"> <!--ejecutarComponente="%nlGesAdjDirecta.cpGesAdjDirecta.no_ofertantes%!=null"-->
                <tabla schema="operation" nombre="add_oferentes">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="id_beneficiario" text="Participante" autoFiltrado="true" autoFiltradoDescripcion="folio_beneficiario,razon_social" columnas="6" margen-izquierdo="2"
                        marcador="Seleccione un Participante" descripcionForaneaTabla="folio_beneficiario,razon_social" visible="true" 
                        columna-visible="true" llavesFijas="id_tipo_beneficiario=3" validacion="%id_beneficiario%==null" validacionMensaje="Seleccione un Participante"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema(&quot; YYYY/MM/dd HH:mm:ss&quot;)" visible="false" columna-visible="false"/>
                    <campo name="id_compras" text="Proyecto de Compra" local="true" type="string" calc="$inParam.id_compras$" visible="false" columna-visible="false"/>
                    <validaciones>
                        <validacion tipo="avanzar" validacion="@consultaDirec('SELECT COUNT(id_beneficiario) AS result FROM operation.add_oferentes WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$+' AND folio_add='+@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS'),'result','long','MAGNITUS')!=3" validacionMensaje="'Solo pueden ser 3 Personas'"/>
                    </validaciones>
                </tabla>
                <acciones>
                    <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                </acciones>
                <estilos>
                    <boton nombre="grabar" posicion="derecha" visible="true" texto="Continuar"/>
                    <boton nombre="formulario" visible="true" texto="Guardar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                </estilos>
            </componente>
        </nivel>
        <nivel id="nlBaseConITPEa" nombre="Bases y Convocatoria Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpBaseConITPEa" nombre="Bases y Convocatoria Invitación a Tres Personas" tipo="formulario" accionDefault="editar">
                <tabla schema="operation" nombre="proc_add_convocatoria">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" visible="false" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" columnas="3" margen-izquierdo="2"/>
                    <!--CONCATENADO PARA FOLIO-->
                    <campo name="folio_itp" text="Folio de Invitación a Tres Personas" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3"  />
                    <campo name="proyecto_compra" text="Proyecto de Compra" local="true" type="string" calc="$inParam.id_compras$" columnas="3" visible="false"/>
                    <campo name="fecha_pccompra" text="Fecha Proyecto de Compra" local="true" type="string" calc="$inParam.fecha_referencia$" columnas="3" visible="false"/>
                    <campo name="fuente_financiamiento" text="Fuente de Financiamiento" local="true" type="string" calc="$inParam.id_fuente_financiamiento$" columnas="3" visible="false"/>
                    <campo name="folio_convocatoria" text="Folio de Convocatoria*" visible="true" columnas="3"  validacion="%folio_convocatoria%==null" validacionMensaje="Debe Capturarse Folio Convocatoria"/>
                    <campo name="periodo_contratacion" text="Periodo de Contratación*" validacion="%periodo_contratacion%==null" validacionMensaje="Debe Capturarse Periodo de Contratación" visible="true" columnas="3" />
                    <campo name="concepto_contratacion" text="Concepto de Contratación*" validacion="%concepto_contratacion%==null" validacionMensaje="Debe Capturarse Concepto de Contratación" visible="true" columnas="3" />
                    <campo name="indice" text="Índice*" validacion="%indice%==null" validacionMensaje="Debe Capturarse Índice" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="antecedentes_y_datos_generales" text="Datos Generales" validacion="%antecedentes_y_datos_generales%==null" validacionMensaje="Debe Capturarse Antecedentes" height="100" visible="true" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="definicion_termino_glosario" text="Definición de Términos" validacion="%definicion_termino_glosario%==null" validacionMensaje="Debe Capturarse Definición de Términos" height="100" visible="true" columnas="6" margen-izquierdo="2" margen-derecho="2" />
                    <campo name="personal_autorizado" text="Personal Autorizado" validacion="%definicion_termino_glosario%==null" validacionMensaje="Debe Capturarse Personal Autorizado" height="100" visible="true" columnas="6" margen-izquierdo="2" margen-derecho="2" />
                    <campo name="derechos_convocante" text="Derechos de la Convocante" validacion="%definicion_termino_glosario%==null" validacionMensaje="Debe Capturarse Derechos de la Convocante" height="100" visible="true" columnas="6" margen-izquierdo="2" margen-derecho="2" />
                    <campo name="objeto_alcance" text="Objeto y Alcance" validacion="%objeto_alcance%==null" validacionMensaje="Debe Capturarse Objeto y Alcance" height="100" visible="true" columnas="6" margen-izquierdo="2" margen-derecho="2" />
                    <campo name="descripcion_bienes_servicios" text="Descripción de los Bienes y Servicios" validacion="%definicion_termino_glosario%==null" validacionMensaje="Debe Capturarse Descripción de los Bienes y Servicios" height="100" visible="true" columnas="6" margen-izquierdo="2" margen-derecho="2" />
                </tabla>
                <estilos>
                    <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4"/>
                </estilos>
                <acciones>
                    <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                </acciones>
            </componente>
        </nivel>
        <nivel id="nlPartidasITP" nombre="Descripción del Bien o Servicio a Contratar" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente tipo="tabla" id="cpPartidasLP" nombre="Descripción del Bien o Servicio a Contratar" mostrarEditar="true" mostrarAgregar="false" mostrarEliminar="false">        
                <tabla schema="operation" nombre="proc_add_detalle">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="folio_add_detalle" text="Partida" visible="true" columna-visible="true" columnas="3" margen-izquierdo="2"/>
                    <campo name="cantidad" text="Cantidad" visible="false" columna-visible="true"/>
                    <campo name="clave_articulo" text="Descripción del Bien o Servicio" visible="true" columna-visible="true" descripcionForaneaTabla="descripcion_articulo" descripcionForanea="descripcion_articulo" columnas="3" margen-derecho="2" habilitado="false"/>
                   <campo name="unidad_medida" text="um" referenciaForanea="clave_articulo" celdaForanea="unidad_medida" autocompletar="true" local="true" type="string" columna-visible="false" visible="false"/>
                    <campo name="unidad_medida_con" text="Unidad de Medida" visible="true" local="true" type="string" calc="@consultaDirec('select descripcion as resultado_p from catalog.unidad_medida where id_unidad_responsable='+'\\''+$inParam.ur$+'\\'' + ' AND id_periodo='+ '\\''+$inParam.periodo$+'\\'' + ' and id_unidad_medida='+2,'resultado_p','string','MAGNITUS')" columna-visible="true" columnas="3" margen-izquierdo="2"/>
                    <campo name="descripcion_bien" text="Descripción Específica" visible="true" columna-visible="true" columnas="3" margen-derecho="2"/>
                    <!-- "@consultaDirec('SELECT descripcion from catalog.unidad_medida as cum inner join catalog.articulos as ca on ( cum.id_unidad_medida = ca.unidad_medida AND ca.ur=cum.id_unidad_responsable AND ca.periodo=cum.id_periodo)  where  ca.ur= '+$inParam.ur$+' AND ca.periodo='+$inParam.periodo$+' AND ca.clave_articulo ='+'\\''+ %clave_articulo%+'\\'')"-->
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="BarreVacio1" nombre="BarreVacio1" interactivo="false">
            <componente id="BarreVacio1" nombre="BarreVacio1" tipo="cursor">
                <tabla schema="operation" nombre="proc_add_bases1">
                    <campo name="ur" filtroCampo="ur" filtroOperador="=" filtroValor="$inParam.ur$"/>
                    <campo name="periodo" filtroCampo="periodo" filtroOperador="=" filtroValor="$inParam.periodo$" llaveForanea="false"/>
                    <campo name="id_tipo_adjudicacion" filtroCampo="id_tipo_adjudicacion" filtroOperador="=" filtroValor="$inParam.adjudicacion$" llaveForanea="false"/>
                    <campo name="folio_add" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" llaveForanea="false"/>
                    <campo name="adjudicacion_itp" text="Adjudicación" filtroCampo="adjudicacion_itp" filtroOperador="!=" filtroValor="null"/>
                </tabla>
            </componente>
        </nivel>
        <nivel id="nlBaseConITPI" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false" ejecutar="%BarreVacio1.BarreVacio1.adjudicacion_itp%==null">
            <componente id="cpBaseConITPI" nombre="Bases y Convocatoria de Invitación a Tres Personas" tipo="formulario" accionDefault="insertar">        
                <tabla schema="operation" nombre="proc_add_bases1">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false"/>
                     <campo name="folio_itp" text="Folio de Invitación a Tres Personas" local="true" type="string" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3" margen-izquierdo="2" margen-derecho="5"/>
                    <campo name="adjudicacion_itp" text="Adjudicación*" validacion="%adjudicacion_itp%==null" validacionMensaje="Debe Capturarse Adjudicación" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="fecha_lugar_responsable_recepcion" text="Fecha, Lugar y Responsable de la Recepción*" validacion="%fecha_lugar_responsable_recepcion%==null" validacionMensaje="Debe Capturarse Fecha, Lugar y Responsable de la Recepción" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="lugar_licitacion" text="Lugar donde se llevaran acabo los actos de la invitación a cuando menos tres Personas*" validacion="%lugar_licitacion%==null" validacionMensaje="Debe Capturarse Lugar donde se llevaran acabo los actos de la invitación a cuando menos tres Personas" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="calendario_eventos" text="Calendario de Eventos*" validacion="%calendario_eventos%==null" validacionMensaje="Debe Capturarse Calendario de Eventos" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                    <campo name="id_direccion" text="Dirección Requirente*" validacion="%id_direccion%==null" validacionMensaje="Debe Capturarse Dirección Requirente" descripcionForanea="nombre" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlBaseConITPE" nombre="Registra Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false" ejecutar="%BarreVacio1.BarreVacio1.adjudicacion_itp%!=null">
            <componente id="cpBaseConITPE" nombre="Bases y Convocatoria de Invitación a Tres Personas" tipo="formulario" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_bases1">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" columnas="3" margen-izquierdo="2" margen-derecho="5" visible="false"/>
                    <campo name="folio_itp" text="Folio de Invitación a Tres Personas" local="true" type="string" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3" margen-izquierdo="2" margen-derecho="5"/>
                    <campo name="adjudicacion_itp" text="Adjudicación*" validacion="%adjudicacion_itp%==null" validacionMensaje="Debe Capturarse Adjudicación" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="fecha_lugar_responsable_recepcion" text="Fecha, Lugar y Responsable de la Recepción*" validacion="%fecha_lugar_responsable_recepcion%==null" validacionMensaje="Debe Capturarse Fecha, Lugar y Responsable de la Recepción" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="lugar_licitacion" text="Lugar donde se llevaran acabo los actos de la invitación a cuando menos tres Personas*" validacion="%lugar_licitacion%==null" validacionMensaje="Debe Capturarse Lugar donde se llevaran acabo los actos de la invitación a cuando menos tres Personas" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="calendario_eventos" text="Calendario de Eventos*" validacion="%calendario_eventos%==null" validacionMensaje="Debe Capturarse Calendario de Eventos" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                    <campo name="id_direccion" text="Dirección Requirente*" validacion="%id_direccion%==null" validacionMensaje="Debe Capturarse Dirección Requirente" descripcionForanea="nombre" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlCalEveITP" nombre="Registra Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente tipo="tabla" id="cpCalEveITP" nombre="Calendario de Eventos" mostrarEditar="true" mostrarAgregar="true" mostrarEliminar="true">        
                    <tabla schema="operation" nombre="proc_add_calendario_eventos">
                    <campo name="ur" text="UR" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio Invitación a Tres Personas" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="folio_evento" text="Folio" autogenerado="true" generacion="@prox()+1" visible="false" columna-visible="false"/>
                    <campo name="evento" text="Evento" visible="true" columna-visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2" validacion="%evento%==null" validacionMensaje="Debe Capturarse Evento"/>
                    <campo name="fecha" text="Fecha" visible="true" columna-visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2" validacion="%fecha%==null" validacionMensaje="Debe Capturarse Fecha"/>
                    <campo name="hora" text="Hora" visible="true" columna-visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2" validacion="%hora%==null" validacionMensaje="Debe Capturarse Hora"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                    </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                        <boton nombre="formulario" visible="true" texto="Guardar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlBaseConITPE1" nombre="Registra/Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpBaseConITPE1" nombre="Bases y Convocatoria de Invitación a Tres Personas" tipo="formulario" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_bases1">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false"/>
                    <campo name="folio_itp" text="Folio de Invitación a Tres Personas" local="true" type="string" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3" margen-izquierdo="2" margen-derecho="5"/>
                    <campo name="calendario_eventos2" text="Calendario de Eventos*" validacion="%calendario_eventos2%==null" validacionMensaje="Debe Capturarse Calendario de Eventos" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="junta_aclaraciones" text="Junta de Aclaraciones*" validacion="%junta_aclaraciones%==null" validacionMensaje="Debe Capturarse Junta de Aclaraciones" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="verifica_licitacion" text="Etapas de la Invitación y Forma en que se Verificará*" validacion="%verifica_licitacion%==null" validacionMensaje="Debe Capturarse Etapas de la Invitación y Forma en que se Verificará" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="impedimentos" text="Impedimentos para Preparar propuestas*" validacion="%impedimentos%==null" validacionMensaje="Debe Capturarse Impedimentos para Preparar propuestas" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="disposicion_costo_venta" text="Costo de la Convocatoria*" validacion="%disposicion_costo_venta%==null" validacionMensaje="Debe Capturarse Costo de la Convocatoria" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="licitacion_desierta" text="¿Cuándo se Declara Desierta la Invitación?*" validacion="%licitacion_desierta%==null" validacionMensaje="Debe Capturarse Cuándo se Declara Desierta la Invitación" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="poderes_documentos_requisitos" text="Requisitos que los Participantes Deberán Cumplir*" validacion="%poderes_documentos_requisitos%==null" validacionMensaje="Debe Capturarse Requisitos que los Personas Deberán Cumplir" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>

        <!--Cursor para dar de alta los tipos de Documentos-->
        <nivel id="docFormato" nombre="docFormato" interactivo="false">
            <componente id="docFormato" nombre="docFormato" tipo="cursor">
                <tabla schema="reportes" nombre="documentos_formatos">
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicacion" filtroCampo="id_tipo_adjudicacion" filtroOperador="=" filtroValor="$inParam.adjudicacion$"/>
                    <campo name="tipo_documento_formato" text="Tipo Documento"/>
                    <campo name="doc_anexo" text="Documento Anexo"/>
                    <campo name="texto" text="Texto"/>
                    <campo name="tipo_anexo" text="Tipo Anexo"/>
                </tabla>
                <nivel id="docFormato1" nombre="docFormato1" interactivo="false">
                  <componente id="docFormato1" nombre="docFormato1" tipo="altaDirect">
                    <tabla schema="operation" nombre="proc_add_doc_solicitada">
                        <campo name="ur" text="UR" calc="$inParam.ur$" llaveForanea="false"/>
                        <campo name="periodo" text="Periodo" calc="$inParam.periodo$" llaveForanea="false"/>
                        <campo name="id_tipo_adjudicacion" text="Tipo Adjudicacion" calc="$inParam.adjudicacion$" llaveForanea="false"/>
                        <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                        <campo name="tipo_documento_formato" text="Tipo Documento" calc="%docFormato.docFormato.tipo_documento_formato%" llaveForanea="false"/>
                        <campo name="doc_anexo" text="Texto" calc="%docFormato.docFormato.doc_anexo%"/>
                        <campo name="tipo_anexo" text="Texto" calc="%docFormato.docFormato.tipo_anexo%"/>
                        <campo name="texto" text="Texto" calc="%docFormato.docFormato.texto%"/>
                        <campo name="seleccion" text="Seleccion" calc="true"/>
                        <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()"/>
                        <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%"/>
                    </tabla>
                  </componente>    
                </nivel>
            </componente>    
        </nivel>
        <nivel id="nlFormatoLP" nombre="Registra Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente tipo="tabla" id="cpFormatoLP" nombre="Referencia" mostrarEditar="true" mostrarAgregar="false" mostrarEliminar="true">
                <tabla schema="operation" nombre="proc_add_doc_solicitada">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    
                    <!--<campo name="doc_anexo_nombre" text="Nombre Anexo" local="true" type="string" visible="true" columna-visible="false"/>
                    <campo name="doc_anexo_alta" text="Alta Catálogo Anexos" local="true" type="string" calcCliente="@consultaDirec('INSERT INTO reportes.documentos_formatos VALUES (2,'+'\\''+%doc_anexo_nombre%+'\\''+','+'\\''+'prueba'+'\\''+',2) RETURNING tipo_documento_formato AS result','result','long','MAGNITUS')" visible="true" columna-visible="false"/>-->
                    
                    <campo name="tipo_documento_formato" calc="2" filtroCampo="tipo_documento_formato" filtroOperador="=" filtroValor="2" text="Número" visible="false" columna-visible="false" columnas="3" margen-izquierdo="2"/> <!--filtroCampo="tipo_documento_formato" filtroOperador="=" filtroValor="2"-->
                    <campo name="doc_anexo" text="Apartado II" width="50" descripcionForaneaTabla="doc_anexo" descripcionForanea="doc_anexo" visible="true" columna-visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="texto" text="Descripción" visible="true" columna-visible="true" height="100" width="700" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="seleccion" text="Documentos que Presentara el Participante" width="250" editable="true" visible="true" columna-visible="true" columnas="3" margen-izquierdo="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoLP1" nombre="Registra Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente tipo="tabla" id="cpFormatoLP1" nombre="Oferta Técnica y Documentos Administrativos" mostrarEditar="true" mostrarAgregar="false" mostrarEliminar="true">        
                <tabla schema="operation" nombre="proc_add_doc_solicitada">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_documento_formato" filtroCampo="tipo_documento_formato" filtroOperador="=" filtroValor="1" text="Número" visible="false" columna-visible="false" columnas="3" margen-izquierdo="2"/>
                    <campo name="doc_anexo" text="Apartado IV" width="50" descripcionForaneaTabla="doc_anexo" descripcionForanea="doc_anexo" visible="true" columna-visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="texto" text="Descripción" visible="true" columna-visible="true" height="50" width="700" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="seleccion" text="Documentos que Presentara el Participante" width="250" editable="true" visible="true" columna-visible="true" columnas="3" margen-izquierdo="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoLP2" nombre="Registra Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente tipo="tabla" id="cpFormatoLP2" nombre="Documentos para Participantes Que Resulten Adjudicados" mostrarEditar="true" mostrarAgregar="false" mostrarEliminar="true">        
                <tabla schema="operation" nombre="proc_add_doc_solicitada">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_documento_formato" filtroCampo="tipo_documento_formato" filtroOperador="=" filtroValor="3" text="Número" visible="false" columna-visible="false" columnas="3" margen-izquierdo="2"/>
                    <campo name="doc_anexo" text="Numeral" width="50" descripcionForaneaTabla="doc_anexo" descripcionForanea="doc_anexo" visible="true" columna-visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="texto" text="Descripción" visible="true" columna-visible="true" height="50" width="700" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="seleccion" text="Documentos que Presentara el Participante" width="250" editable="true" visible="true" columna-visible="true" columnas="3" margen-izquierdo="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <!--AQUI VA LA PESTAÑA 13-->












        <nivel id="BarreVacio2" nombre="BarreVacio2" interactivo="false">
            <componente id="BarreVacio2" nombre="BarreVacio1" tipo="cursor">
                <tabla schema="operation" nombre="proc_add_bases2">
                    <campo name="ur" filtroCampo="ur" filtroOperador="=" filtroValor="$inParam.ur$"/>
                    <campo name="periodo" filtroCampo="periodo" filtroOperador="=" filtroValor="$inParam.periodo$" llaveForanea="false"/>
                    <campo name="id_tipo_adjudicacion" filtroCampo="id_tipo_adjudicacion" filtroOperador="=" filtroValor="$inParam.adjudicacion$" llaveForanea="false"/>
                    <campo name="folio_add" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" llaveForanea="false"/>
                    <campo name="notas_documentos_administrativos" text="Notas" filtroCampo="notas_documentos_administrativos" filtroOperador="!=" filtroValor="null"/>
                </tabla>
            </componente>
        </nivel>
        <nivel id="nlBaseConLP3" nombre="Registra Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false" ejecutar="%BarreVacio2.BarreVacio2.notas_documentos_administrativos%!=null">
            <componente id="cpBaseConLP3" nombre="Convocatoria de  Invitación a Tres Personas" tipo="formulario" accionDefault="editar">
                <tabla schema="operation" nombre="proc_add_bases2">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" columnas="3" margen-izquierdo="2" margen-derecho="5" visible="false"/>
                    <campo name="folio_itp" text="Folio de Invitación a Tres Personas" local="true" type="string" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3" margen-derecho="5" margen-izquierdo="2"/>
                    <campo name="notas_documentos_administrativos" text="Información Posterior a las Tablas de Documentos*" validacion="%notas_documentos_administrativos%==null" validacionMensaje="Debe Capturarse Información Posterior a las Tablas de Documentos" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="descalificacion_itp" text="Descalificación*" validacion="%descalificacion_itp%==null" validacionMensaje="Debe Capturarse Descalificación" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="criterios_evaluacion_oferta_economica" text="Criterios de Evaluación de las Proposiciones*" validacion="%criterios_evaluacion_oferta_economica%==null" validacionMensaje="Debe Capturarse Criterios de Evaluación de las Proposiciones" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="dom_aut_fisca_itp" text="Domicilio de la Autoridad Fiscalizadora*" validacion="%dom_aut_fisca_itp%==null" validacionMensaje="Debe Capturarse Domicilio de la Autoridad Fiscalizadora" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="dom_convocante_itp" text="Domicilio Convocante*" validacion="%dom_convocante_itp%==null" validacionMensaje="Debe Capturarse Domicilio Convocante" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="documentos_integran_itp" text="Documentos que Integrarán la Proposición*" validacion="%documentos_integran_itp%==null" validacionMensaje="Debe Capturarse Documentos que Integrarán la Proposición" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                    </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                        <boton nombre="formulario" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlBaseConITPIn" nombre="Registra Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false" ejecutar="%BarreVacio2.BarreVacio2.notas_documentos_administrativos%==null">
            <componente id="cpBaseConITPIn" nombre="Convocatoria de  Invitación a Tres Personas" tipo="formulario" accionDefault="insertar">
                <tabla schema="operation" nombre="proc_add_bases2">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" columnas="3" margen-izquierdo="2" margen-derecho="5" visible="false"/>
                    <campo name="folio_itp" text="Folio de Invitación a Tres Personas" local="true" type="string" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3" margen-derecho="5" margen-izquierdo="2"/>
                    <campo name="notas_documentos_administrativos" text="Información Posterior a las Tablas de Documentos*" validacion="%notas_documentos_administrativos%==null" validacionMensaje="Debe Capturarse Información Posterior a las Tablas de Documentos" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="descalificacion_itp" text="Descalificación*" validacion="%descalificacion_itp%==null" validacionMensaje="Debe Capturarse Descalificación" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="criterios_evaluacion_oferta_economica" text="Criterios de Evaluación de las Proposiciones*" validacion="%criterios_evaluacion_oferta_economica%==null" validacionMensaje="Debe Capturarse Criterios de Evaluación de las Proposiciones" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="dom_aut_fisca_itp" text="Domicilio de la Autoridad Fiscalizadora*" validacion="%dom_aut_fisca_itp%==null" validacionMensaje="Debe Capturarse Domicilio de la Autoridad Fiscalizadora" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="dom_convocante_itp" text="Domicilio Convocante*" validacion="%dom_convocante_itp%==null" validacionMensaje="Debe Capturarse Domicilio Convocante" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="documentos_integran_itp" text="Documentos que Integrarán la Proposición*" validacion="%documentos_integran_itp%==null" validacionMensaje="Debe Capturarse Documentos que Integrarán la Proposición" visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                    </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                        <boton nombre="formulario" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoLP3" nombre="Registra Modifica Invitación a tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente tipo="tabla" id="cpFormatoLP2" nombre="Documentos que Integrarán la Proposición" mostrarEditar="true" mostrarAgregar="false" mostrarEliminar="true">        
                <tabla schema="operation" nombre="proc_add_doc_solicitada">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_documento_formato" filtroCampo="tipo_documento_formato" filtroOperador="=" filtroValor="5" text="Número" visible="false" columna-visible="false" columnas="3" margen-izquierdo="2"/>
                    <campo name="doc_anexo" text="Numeral" width="50" descripcionForaneaTabla="doc_anexo" visible="true" columna-visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="texto" text="Descripción" visible="true" columna-visible="true" height="100" width="700" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="seleccion" text="Documentos que Presentara el Participante" width="250" editable="true" visible="true" columna-visible="true" columnas="3" margen-izquierdo="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlBaseConLP3a" nombre="Registra Modifica Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpBaseConLP3a" nombre="Convocatoria de  Invitación a Tres Personas" tipo="formulario" accionDefault="editar">
                <tabla schema="operation" nombre="proc_add_bases2">
                    <campo name="ur" llaveForanea="false" calc="$inParam.ur$" visible="false"/>
                    <campo name="periodo" text="Periodo" llaveForanea="false" calc="$inParam.periodo$" visible="false"/>
                    <campo name="id_tipo_adjudicacion" llaveForanea="false" calc="$inParam.adjudicacion$" visible="false"/>
                    <campo name="folio_add" text="Folio de Invitación a Tres Personas" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" columnas="3" margen-izquierdo="2" margen-derecho="5" visible="false"/>
                    <campo name="folio_itp" text="Folio de Invitación a Tres Personas" local="true" type="string" calc="@concatenar('ITP-'+@ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10,'00000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.$inParam% &lt;100,'0000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;1000,'000',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;10000,'00',
                    @ifThenElse(%nlBaseConITP.cpBaseConLPI.folio_add% &lt;100000,'0',null)))))+
                     @consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS'))" columnas="3" margen-derecho="5" margen-izquierdo="2"/>
                    <campo name="formalizacion_contrato" text="Formalización del Contrato*" validacion="%formalizacion_contrato%==null" validacionMensaje="Debe Capturarse Formalización del Contrato" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="garantias" text="Garantías*" validacion="%garantias%==null" validacionMensaje="Debe Capturarse Garantías" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="garantia_cumplimiento_efectiva" text="¿Cuándo se hará efectiva la Garantía de Cumplimiento del Contráto?*" validacion="%garantia_cumplimiento_efectiva%==null" validacionMensaje="Debe Capturarse Garantía de Cumplimiento de Contráto" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="condiciones_pago" text="Condiciones de Pago*" validacion="%condiciones_pago%==null" validacionMensaje="Debe Capturarse Condiciones de Pago" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="penas_convencionales_atraso" text="Penas Convencionales por Atraso en el Cumplimiento*" validacion="%penas_convencionales_atraso%==null" validacionMensaje="Debe Capturarse Penas Convencionales por Atraso en el Cumplimiento" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="sanciones_indeminizaciones" text="Sanciones e Indemnizaciones por Incumplimiento*" validacion="%sanciones_indeminizaciones%==null" validacionMensaje="Debe Capturarse Sanciones e Indemnizaciones por Incumplimiento" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="rescision_administrativa" text="Rescisión Administrativa del Contrato*" validacion="%rescision_administrativa%==null" validacionMensaje="Debe Capturarse Rescición Administrativa del Contrato" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="terminacion_anticipada" text="Terminación Anticipada del Contrato*" validacion="%terminacion_anticipada%==null" validacionMensaje="Debe Capturarse Terminación Anticipada del Contrato" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="cantidades_adicionales" text="Cantidades Adicionales y Negociaciones*" validacion="%cantidades_adicionales%==null" validacionMensaje="Debe Capturarse Cantidades Adicionales y Negociaciones" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="informacion_licitantes_adjudicados" text="Información para Participantes que Resulten Adjudicados*" validacion="%informacion_licitantes_adjudicados%==null" validacionMensaje="Debe Capturarse Información para Personas que Resulten Adjudicados" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="notas_adicionales" text="Notas Adicionales*" validacion="%notas_adicionales%==null" validacionMensaje="Debe Capturarse Notas Adicionales" visible="true" height="100" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                    </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                        <boton nombre="formulario" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoLP4" nombre="Registra Modifica Invitación a tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente tipo="tabla" id="cpFormatoLP4" nombre="Formatos para los Documentos que Deberán Presentar los Participantes" mostrarEditar="true" mostrarAgregar="false" mostrarEliminar="true">        
                <tabla schema="operation" nombre="proc_add_doc_solicitada">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_documento_formato" filtroCampo="tipo_documento_formato" filtroOperador="=" filtroValor="4" text="Número" visible="false" columna-visible="false" columnas="3" margen-izquierdo="2"/>
                    <campo name="doc_anexo" text="Numeral" width="50" descripcionForaneaTabla="doc_anexo" visible="true" columna-visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="texto" text="Descripción" visible="true" columna-visible="true" height="50" width="700" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="seleccion" text="Documentos que Presentara el Participante" width="250" editable="true" visible="true" columna-visible="true" columnas="3" margen-izquierdo="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoLP5" nombre="Registra Modifica Invitación a tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente tipo="tabla" id="cpFormatoLP5" nombre="Formatos para Participantes que Resulten Adjudicados" mostrarEditar="true" mostrarAgregar="false" mostrarEliminar="true">        
                <tabla schema="operation" nombre="proc_add_doc_solicitada">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_documento_formato" filtroCampo="tipo_documento_formato" filtroOperador="=" filtroValor="6" text="Número" visible="false" columna-visible="false" columnas="3" margen-izquierdo="2"/>
                    <campo name="doc_anexo" text="Numeral" width="50" descripcionForaneaTabla="doc_anexo" visible="true" columna-visible="true" height="50" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="texto" text="Descripción" visible="true" columna-visible="true" height="50" width="700" columnas="6" margen-izquierdo="2" margen-derecho="2"/>
                    <campo name="seleccion" text="Documentos que Presentara el Participante" width="250" editable="true" visible="true" columna-visible="true" columnas="3" margen-izquierdo="2"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <!--Cursor para Quitar Seleccion-->
        <nivel id="docQAnexo" nombre="docQAnexo" interactivo="false">
            <componente id="docQAnexo" nombre="docQAnexo" tipo="cursor">
                <tabla schema="reportes" nombre="anexos">
                    <campo name="tipo_anexo" text="Tipo Anexo"/>
                    <campo name="anexo" text="Anexo"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" filtroCampo="id_tipo_adjudicacion" filtroOperador="=" filtroValor="$inParam.adjudicacion$" llaveForanea="false"/>
                    <campo name="seleccion" text="Seleccion" calc="false"/>
                </tabla>
             </componente>    
        </nivel>
        <!--Cursor para Anexos-->
        <nivel id="docAnexo" nombre="docAnexo" interactivo="false">
            <componente id="docAnexo" nombre="docAnexo" tipo="cursor">
                <tabla schema="operation" nombre="proc_add_doc_solicitada">
                    <campo name="ur" text="UR" filtroCampo="ur" filtroOperador="=" filtroValor="$inParam.ur$" llaveForanea="false"/>
                    <campo name="periodo" text="Periodo" filtroCampo="periodo" filtroOperador="=" filtroValor="$inParam.periodo$" llaveForanea="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicacion" filtroCampo="id_tipo_adjudicacion" filtroOperador="=" filtroValor="$inParam.adjudicacion$" llaveForanea="false"/>
                    <campo name="folio_add" text="Folio" filtroCampo="folio_add" filtroOperador="=" filtroValor="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                    <campo name="tipo_documento_formato" text="Tipo Documento" llaveForanea="false"/>
                    <campo name="doc_anexo" text="Texto"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" />
                    <!--<campo name="seleccion" text="Seleccion" filtroCampo="seleccion" filtroOperador="=" filtroValor="true"/>-->
                </tabla>
                <nivel id="docAnexo1" nombre="docAnexo1" interactivo="false" ejecutar="%docAnexo.docAnexo.tipo_anexo%!=null">
                    <componente id="docAnexo1" nombre="docAnexo1" tipo="cursor">
                        <tabla schema="reportes" nombre="anexos">
                            <campo name="tipo_anexo" text="Tipo Anexo" filtroCampo="tipo_anexo" filtroOperador="=" filtroValor="%docAnexo.docAnexo.tipo_anexo%"/>
                            <campo name="anexo" text="Anexo"/>
                            <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" filtroCampo="id_tipo_adjudicacion" filtroOperador="=" filtroValor="$inParam.adjudicacion$" llaveForanea="false"/>
                            <campo name="seleccion" text="Seleccion" calc="true"/>
                        </tabla>
                    </componente>    
                </nivel>    
             </componente>    
        </nivel>
        <!--Cursor para Grabar Anexo-->
        <nivel id="docGAnexo" nombre="docGAnexo" interactivo="false">
            <componente id="docGAnexo" nombre="docAnexo" tipo="cursor">
                <tabla schema="reportes" nombre="anexos">
                    <campo name="tipo_anexo" text="Tipo Anexo"/>
                    <campo name="anexo" text="Anexo"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" filtroCampo="id_tipo_adjudicacion" filtroOperador="=" filtroValor="$inParam.adjudicacion$" llaveForanea="false"/>
                    <campo name="seleccion" text="Seleccion" filtroCampo="seleccion" filtroOperador="=" filtroValor="true"/>
                </tabla>
                <nivel id="docGAnexo1" nombre="docGAnexo1" interactivo="false">
                    <componente id="docGAnexo1" nombre="docGAnexo1" tipo="altaDirect">
                        <tabla schema="operation" nombre="proc_add_anexos">
                            <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                            <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                            <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false"/>
                            <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                            <campo name="tipo_anexo" text="Tipo Anexo" calc="%docGAnexo.docGAnexo.tipo_anexo%"/>
                            <campo name="anexo" text="Anexo" calc="%docGAnexo.docGAnexo.anexo%"/>
                            <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()"/>
                            <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%"/>
                        </tabla>
                    </componente>    
                </nivel>    
             </componente>    
        </nivel>
        <nivel id="nlFormatoAnexoA" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoA" tipo="formulario" nombre="Anexo A" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo A'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoB" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoB" tipo="formulario" nombre="Anexo B" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo B'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoC" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoC" tipo="formulario" nombre="Anexo C" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo C'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoD" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoD" tipo="formulario" nombre="Anexo D" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo D'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoE" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoE" tipo="formulario" nombre="Anexo E" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo E'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoF" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoF" tipo="formulario" nombre="Anexo F" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo F'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoG" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoG" tipo="formulario" nombre="Anexo G" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo G'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoH" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoH" tipo="formulario" nombre="Anexo H" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo H'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoI" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoI" tipo="formulario" nombre="Anexo I" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo I'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoK" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoK" tipo="formulario" nombre="Anexo K" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo K'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
        <nivel id="nlFormatoAnexoL" nombre="Bases y Convocatoria de Invitación a Tres Personas" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="cpFormatoAnexoL" tipo="formulario" nombre="Anexo L" accionDefault="editar">        
                <tabla schema="operation" nombre="proc_add_anexos">
                    <campo name="ur" text="Unidad Responsable" calc="$inParam.ur$" llaveForanea="false" visible="false"/>
                    <campo name="periodo" text="Periodo Contable" calc="$inParam.periodo$" llaveForanea="false" visible="false"/>
                    <campo name="id_tipo_adjudicacion" text="Tipo Adjudicación" calc="$inParam.adjudicacion$" llaveForanea="false" visible="false" columna-visible="false"/>
                    <campo name="folio_add" text="Folio" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\'','result','long','MAGNITUS')" visible="false" columna-visible="false"/>
                    <campo name="tipo_anexo" text="Tipo Anexo" calc="'Anexo L'" habilitado="false" descripcionForanea="tipo_anexo" visible="true" height="50" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="anexo" text="Anexo" visible="true" columna-visible="true" height="500" columnas="8" margen-izquierdo="1" margen-derecho="1"/>
                    <campo name="fecha_registro" text="Fecha Registro" calc="@fechaSistema()" visible="false" columna-visible="false"/>
                    <campo name="ultimo_usuario_modificador" text="Usuario" calc="%barreUsuarios.barreUsuarios.id_usuario%" visible="false" columna-visible="false"/>
                </tabla>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel"/>
                    </acciones>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" columnas="2" margen-izquierdo="4" margen-derecho="4"/>
                    </estilos>
            </componente>
        </nivel>
         <!-- Busca Estructura del Expediente Sistema de Gestión Documental y Archivo -->
        
        <nivel id="buscaFondo" nombre="buscaFondo" interactivo="false">
            <componente id="buscaFondo" nombre="buscaFondo" tipo="cursor">
                <tabla schema="catalog" nombre="fondo_dependencia">
                    <campo name="id_fondo" filtroCampo="id_fondo" filtroOperador="=" filtroValor="1"/>
                    <campo name="nombre_dependencia"/>
                    <campo name="abreviatura"/>
                </tabla>
            </componente>
        </nivel>
        
        <nivel id="buscaSeccion" nombre="buscaSeccion" interactivo="false">
            <componente id="buscaSeccion" nombre="buscaSeccion" tipo="cursor">
                <tabla schema="catalog" nombre="seccion">
                    <campo name="id_fondo" filtroCampo="id_fondo" filtroOperador="=" filtroValor="1"/>
                    <campo name="id_seccion" filtroCampo="id_seccion" filtroOperador="=" filtroValor="1"/>
                    <campo name="nombre_seccion"/>
                    <campo name="abreviatura"/>
                </tabla>
            </componente>
        </nivel>
        
        <nivel id="buscaSerie" nombre="buscaSerie" interactivo="false">
            <componente id="buscaSerie" nombre="buscaSerie" tipo="cursor">
                <tabla schema="catalog" nombre="serie">
                    <campo name="id_fondo" filtroCampo="id_fondo" filtroOperador="=" filtroValor="1"/>
                    <campo name="id_seccion" filtroCampo="id_seccion" filtroOperador="=" filtroValor="1"/>
                    <campo name="id_serie" filtroCampo="id_serie" filtroOperador="=" filtroValor="1"/>
                    <campo name="nombre_serie"/>
                    <campo name="abreviatura"/>
                </tabla>
            </componente>
        </nivel>
        
        <nivel id="buscaSubSerie" nombre="buscaSubSerie" interactivo="false">
            <componente id="buscaSubSerie" nombre="buscaSubSerie" tipo="cursor">
                <tabla schema="catalog" nombre="subserie">
                    <campo name="id_fondo" filtroCampo="id_fondo" filtroOperador="=" filtroValor="1"/>
                    <campo name="id_seccion" filtroCampo="id_seccion" filtroOperador="=" filtroValor="1"/>
                    <campo name="id_serie" filtroCampo="id_serie" filtroOperador="=" filtroValor="1"/>
                    <campo name="id_subserie" filtroCampo="id_subserie" filtroOperador="=" filtroValor="3"/>
                    <campo name="nombre_subserie"/>
                    <campo name="abreviatura"/>
                </tabla>
            </componente>
        </nivel>
        
        <nivel id="concatenaExpediente" nombre="concatenaExpediente" interactivo="false">
            <componente id="concatenaExpediente" nombre="concatenaExpediente" tipo="cursor">
                <tabla schema="catalog" nombre="dummy">
                    <campo name="id" filtroCampo="id" filtroOperador="=" filtroValor="1"/>
                    <campo name="expediente" calc="@concatenar(%buscaFondo.buscaFondo.abreviatura%+'/'+%buscaSeccion.buscaSeccion.abreviatura%+'/'+%buscaSerie.buscaSerie.abreviatura%+'/'+%buscaSubSerie.buscaSubSerie.abreviatura%)" local="true" type="string"/>
                </tabla>
            </componente>
        </nivel>
            
        <!-- Fin  Busca Estructura del Expediente Sistema de Gestión Documental y Archivo-->
        <nivel id="nlConBasesLP" nombre=" Bases y convocatoria ITP" mostrarProximoNivel="false" mostrarNivelAnterior="false">
            <componente id="cpConBasesLP" nombre="Bases y convocatoria de ITP" tipo="reporte">
                <reporte nombre="bases_i3p" expediente="%concatenaExpediente.concatenaExpediente.expediente%" nombreDocumento="'Bases y Convocatoria Invitacion a Tres Personas'" grupo="$inParam.adquisicion$" url="$config.repository_upload_file$" update="true"> 
                    <campo name="id_unidad_responsable" text="ur" local="true" type="long" calc="$inParam.ur$"/>
                    <campo name="id_periodo" local="true" type="long" calc="$inParam.periodo$"/>
                    <campo name="nombre_usuario" text="Usuario" local="true" type="string" calc="$protocolarios.user$"/>
                    <campo name="id_tipo_adquisicion" local="true" type="long" calc="$inParam.adjudicacion$"/>
                    <campo name="folio_add" local="true" type="long" calc="@consultaDirec('SELECT folio_add AS result FROM operation.proc_add WHERE ur= '+$inParam.ur$+' AND periodo='+$inParam.periodo$+' AND proyecto_compra='+'\\''+$inParam.id_compras$+'\\''+' AND id_tipo_adjudicacion='+$inParam.adjudicacion$,'result','long','MAGNITUS')"/>
                </reporte>
            </componente>
        </nivel>
    </pagina>
</tarea>