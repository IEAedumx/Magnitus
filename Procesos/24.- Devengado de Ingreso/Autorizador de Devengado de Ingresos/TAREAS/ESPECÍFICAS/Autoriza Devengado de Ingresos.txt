<tarea id="registraDevengado" nombre="AUTORIZA DEVENGADO DE INGRESOS" autor="Froylán Alanís" version="2">
    <pagina id="1">
        <!-- PARAMETROS-->
        <nivel id="inParams" nombre="inParams" interactivo="false">
            <componente id="inParams" nombre="inParams" tipo="cursor">
                <tabla schema="catalog" nombre="dummy">
                    <campo name="id" filtroCampo="id" filtroOperador="=" filtroValor="1" />
                    <campo name="ur" text="UR" local="true" type="string" calc="$inParam.ur$" />
                    <campo name="periodo" text="Periodo" local="true" type="string" calc="$inParam.periodo$" />
                    <campo name="folio_devengado_ingreso" local="true" type="string" calc="$inParam.folio_devengado_ingreso$" />
                    <campo name="fecha_registro" local="true" type="string" calc="$inParam.fecha_registro$" />
                    <campo name="tipo_ingreso" local="true" type="string" calc="$inParam.tipo_ingreso$" />
                    <campo name="caja_recaudacion" local="true" type="string" calc="$inParam.caja_recaudacion$" />
                </tabla>
            </componente>
        </nivel>
        <nivel id="barreUsuarios" nombre="barreUsuarios" interactivo="false">
            <componente id="barreUsuarios" nombre="barreUsuarios" tipo="cursor">
                <tabla schema="entity" nombre="usuario">
                    <campo name="id_unidad_responsable" filtroCampo="id_unidad_responsable" filtroOperador="=" filtroValor="$config.ur$" />
                    <campo name="id_usuario" />
                    <campo name="nombre_usuario" filtroCampo="nombre_usuario" filtroOperador="=" filtroValor="$protocolarios.user$" />
                    <campo name="permisos_especiales" />
                </tabla>
            </componente>
        </nivel>
        <!--TIPO DE DEVENGADO DE INGRESO-->
        <!--<nivel id="registraDevengadoIngresos" nombre="CONSULTA DEVENGADO DE INGRESOS" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="registraDevengadoIngresos" nombre="CONSULTA DEVENGADO DE INGRESOS" tipo="formulario" accionDefault="seleccionar">
                <tabla schema="operation" nombre="tipo_devengado_ingreso">
                    <campo name="ur" text="UR" llaveForanea="false" calc="%inParams.inParams.ur%" visible="false" columna-visible="false" />
                    <campo name="periodo" text="Año" llaveForanea="false" calc="%inParams.inParams.periodo%" columnas="2" margen-izquierdo="1" habilitado="false" />
                    <campo name="tipo_ingreso" text="Tipo de Recaudación" calc="%inParams.inParams.tipo_ingreso%" columnas="2" margen-izquierdo="1" habilitado="false" />
                    <campo name="caja_recaudacion" text="Caja de Recaudación" calc="%inParams.inParams.caja_recaudacion%" columnas="2" margen-izquierdo="1" habilitado="false" />
                </tabla>
                <estilos>
                    <boton nombre="grabar" visible="true" texto="Continuar" margen-izquierdo="4" columnas="2" margen-derecho="4" />
                </estilos>
                <acciones>
                    <accion nombre="grabar" hacer="saltar siguiente nivel" />
                </acciones>
            </componente>
        </nivel>-->
        <!--SERVICIOS GENERALES-->
       <!-- <nivel id="mdRegisDevIngrEscolares" nombre="Consulta Devengado de Ingresos Servicios Escolares" ejecutar="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%==1" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="mdRegisDevIngrEscolares" nombre="Consulta Devengado de Ingresos Servicios Escolares" tipo="maestroDetalle"  >
                <encabezado accionDefault="seleccionar"> 
                    <tabla schema="operation" nombre="devengado_ingreso">
                        <campo name="ur" text="Unidad Responsable" calc="%registraDevengadoIngresos.registraDevengadoIngresos.ur%" llaveForanea="false" visible="false" />
                        <campo name="periodo" text="Periodo Contable" calc="%registraDevengadoIngresos.registraDevengadoIngresos.periodo%" llaveForanea="false" visible="false"/>
                        <campo name="tipo_ingreso" text="Tipo de Ingreso" calc="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%" llaveForanea="false" visible="false"/>
                        <campo name="folio_devengado_ingreso" text="Folio" calc="%inParams.inParams.folio_devengado_ingreso%" columnas="2" margen-izquierdo="1" visible="false"/>
                        <campo name="devengado_ingreso" text="Folio"  columnas="2" margen-izquierdo="1"/>
                        <campo name="grado" text="Grado"  mascara="##" columnas="2" margen-izquierdo="1" marcador="Grado" />
                        <campo name="fecha_registro" text="Fecha" calc="@fechaSistema()" habilitado="%barreUsuarios.barreUsuarios.permisos_especiales%==true" columnas="2" margen-izquierdo="1" />
                        <campo name="grupo" text="Grupo" columnas="2" margen-izquierdo="1" marcador="Grupo" />
                        <campo name="referencia" text="Referencia"  mascara="########" columnas="2" margen-izquierdo="1" marcador="Referencia" />
                        <campo name="factura" text="Factura" columnas="2" margen-izquierdo="1" habilitado="false"/>
                        <campo name="beneficiario" text="Cliente/Beneficiario" descripcionForanea="folio_beneficiario,razon_social" columnas="2" margen-izquierdo="1" marcador="Beneficiario" llavesFijas="id_tipo_beneficiario=3"/>
                        <campo name="fecha_factura" text="Fecha de Factura" calc="@fechaSistema()" columnas="2" margen-izquierdo="1" marcador="Fecha de Factura"/>
                        <campo name="matricula" text="Número de Matrícula"  columnas="2" margen-izquierdo="1" descripcionForanea="folio_matricula"  />
                        <campo name="receptor_cfdi" text="Receptor CFDI" habilitado="false" descripcionForanea="rfc,razon_social" columnas="2" margen-izquierdo="1"/>
                        <campo name="nombre_alumno" text="Nombre del Alumno" columnas="2" margen-izquierdo="1"  habilitado="false" />
                         <campo name="estatus" text="Estatus" habilitado="false" columnas="2" margen-izquierdo="1" />
                        <campo name="carrera" text="Carrera" habilitado="false" columnas="2" margen-izquierdo="1" descripcionForanea="descripcion"/>
                        <campo name="concepto" text="Concepto"  height="300" marcador="Ingresa un concepto" columnas="2" margen-izquierdo="1"  />
                    </tabla>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" margen-izquierdo="4" columnas="2" margen-derecho="4"/>
                    </estilos>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente componente"/>
                    </acciones>
                </encabezado>
                <detalles>
                    <tabla id="detalle_bloques" schema="operation" nombre="devengado_ingreso_detalle" tituloDetalle="Renglones" mostrarAgregar="false" mostrarEliminar="false" mostrarEditar="false">
                        <campo name="ur" text="Unidad Responsable" llaveForanea="false" visible="false" columna-visible="false" width="150"/>
                        <campo name="periodo" text="Periodo Contable" llaveForanea="false"  visible="false" columna-visible="false" width="150"/>
                        <campo name="folio_devengado_ingreso" text="Folio" llaveForanea="false" visible="false" width="150"/>
                        <campo name="folio_devengado_ingreso_det" text="Renglón" generacion="@prox()+1" autogenerado="true" columna-visible="false" columnas="3"/>
                        <campo name="cantidad" text="Cantidad" validacion="%cantidad%==null" validacionMensaje="Ingresa la cantidad." columna-visible="true" columnas="3" margen-izquierdo="2" width="150"/>
                        <campo name="id_cat_clasificador_rubro_ingreso" text="cat_clafi_rubro" llaveForanea="false" calc="11" visible="false" columna-visible="false"/> 
                        <campo name="id_clasificador_rubro_ingreso" text="Clasificador por Rubro del Ingreso" autoFiltradoDescripcion="id_cat,descripcion" autoFiltrado="true" maxlength="50" marcador="Clasificador por Rubro del Ingreso" validacion="%id_clasificador_rubro_ingreso%==null" validacionMensaje="Favor de seleccionar un fondo contable para continuar" columnas="3" margen-derecho="2" width="150"/>
                        <campo name="importe" text="Importe" validacion="%importe%==null" validacionMensaje="Ingresa el importe." columna-visible="true" columnas="3" width="150"/>
                        <campo name="id_cat_fondo_contable" text="Categoría de Fondo Contable" calc="3" llaveForanea="false" visible="false" columna-visible="false"/>
                        <campo name="id_fondo_contable" text="Fondo Contable" marcador="Fondo Contable" autoFiltradoDescripcion="id_cat,descripcion"  columnas="3" width="150" autoFiltrado="true" maxlength="50"/>
                        <campo name="descuento" text="Descuento" columna-visible="true" columnas="3" width="150"/>
                        <campo name="id_cat_unidad_ejecutora_gasto" text="Categoría Unidad Ejecutora" visible="false" calc="2" llaveForanea="false" width="150"/>
                        <campo name="id_unidad_ejecutora_gasto" text="Centro de Registro" autoFiltradoDescripcion="id_cat,descripcion" autoFiltrado="true" maxlength="50" validacion="%id_unidad_ejecutora_gasto%==null" validacionMensaje="Favor de seleccionar una Unidad Ejecutora" marcador="Selecciona una Unidad Ejecutora" columnas="3" margen-izquierdo="2" width="150"/>
                        <campo name="iva" text="Impuesto al valor Agregado" habilitado="false" validacion="%iva%==null" validacionMensaje="Ingresa el IVA." muestraAcumulado="true" calcCliente="((%importe%-%descuento%)*0.16)" columna-visible="true" columnas="3" margen-izquierdo="2" margen-derecho="2" width="150"/>
                        <campo name="mes_cve_ingreso" visible="false" columna-visible="false" text="Mes" llaveForanea="false" calc="@fechaSistema(&quot;MM&quot;)"/>
                        <campo name="clave_presupuestal" text="Clave Presupuestal" descripcionForanea="clave_presupuestal" columna-visible="true" columnas="3"  margen-derecho="2" width="150"/>
                        <campo name="total" text="Total" columnas="3"  habilitado="false" columna-visible="true" width="150" muestraAcumulado="true" calcCliente="((%cantidad%)*((%importe%-%descuento%)+%iva%))" />-->
                        <!--<campo name="caratula" text="Caratula" local="true" type="file" update="true" fileType="normal" url="" nombreDocumento="CaratulaCuentaBancaria" grupo="" expediente="" columnas="3"  margen-izquierdo="2"/>-->
                    <!--</tabla>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" margen-izquierdo="4" columnas="2" margen-derecho="4" />
                    </estilos>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel" />
                    </acciones>
                </detalles>
            </componente>
        </nivel>-->
        <!--OTROS SERVICIOS-->
        <!--<nivel id="mdRegisDevIngrOtros" nombre="Consulta Devengado de Ingresos Otros Ingresos" ejecutar="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%==2" mostrarNivelAnterior="false" mostrarProximoNivel="false">
            <componente id="mdRegisDevIngrOtros" nombre="Consulta Devengado de Ingresos Otros Ingresos" tipo="maestroDetalle">
                <encabezado id="consultaDevIngOIngEncabezado" accionDefault="seleccionar">
                    <tabla schema="operation" nombre="devengado_ingreso">
                        <campo name="ur" text="Unidad Responsable" calc="%registraDevengadoIngresos.registraDevengadoIngresos.ur%" llaveForanea="false" visible="false" />
                        <campo name="periodo" text="Periodo Contable" calc="%registraDevengadoIngresos.registraDevengadoIngresos.periodo%" llaveForanea="false" visible="false"/>
                        <campo name="tipo_ingreso" text="Tipo de Ingreso" calc="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%" llaveForanea="false" visible="false"/>
                        <campo name="devengado_ingreso" text="Folio"  columnas="2" margen-izquierdo="1" habilitado="false"/>
                        <campo name="folio_devengado_ingreso" text="Folio Prueba" calc="%inParams.inParams.folio_devengado_ingreso%" visible="false"/>
                        <campo name="factura" text="Factura" columnas="2" margen-izquierdo="1" habilitado="false"/>
                        <campo name="fecha_registro" text="Fecha" columnas="2" margen-izquierdo="1" />
                        <campo name="fecha_factura" text="Fecha de Factura"  columnas="2" margen-izquierdo="1" marcador="Fecha de Factura"/>
                        <campo name="referencia" text="Referencia"  mascara="########"  columnas="2" margen-izquierdo="1" marcador="Referencia" />
                        <campo name="receptor_cfdi" text="Receptor CFDI" habilitado="false" descripcionForanea="rfc,razon_social" columnas="2" margen-izquierdo="1"/>
                        <campo name="beneficiario" text="Cliente/Beneficiario" descripcionForanea="folio_beneficiario,razon_social" columnas="2" margen-izquierdo="1" habilitado="false"/>
                        <campo name="estatus" text="Estatus" calc="1" habilitado="false" columnas="2" margen-izquierdo="1" />
                        <campo name="concepto" text="Concepto" height="300" marcador="Ingresa un concepto" columnas="2" margen-izquierdo="1" />
                        <campo name="caja_recaudacion" text="caja" calc="%registraDevengadoIngresos.registraDevengadoIngresos.caja_recaudacion%" visible="false"/>
                    </tabla>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" margen-izquierdo="4" columnas="2" margen-derecho="4"/>
                    </estilos>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente componente"/>
                    </acciones>
                </encabezado>
                <detalles id="consultaDevIngOIngDetalles">
                    <tabla schema="operation" nombre="devengado_ingreso_detalle" id="consultaDevIngOIngDetallesTabla" tituloDetalle="Renglones" mostrarAgregar="false" mostrarEliminar="false" mostrarEditar="false">
                        <campo name="ur" text="UR" llaveForanea="false" calc="%inParams.inParams.ur%" visible="false" columna-visible="false" />
                        <campo name="periodo" text="Periodo" llaveForanea="false" calc="%inParams.inParams.periodo%" visible="false" columna-visible="false" />
                        <campo name="folio_devengado_ingreso" text="Folio" llaveForanea="false" calc="%inParams.inParams.folio_devengado_ingreso%" visible="false" columna-visible="false" />
                        <campo name="folio_devengado_ingreso_det" text="Renglón" habilitado="false" columnas="3" margen-izquierdo="2" width="150" cellsalign="center"/>
                        <campo name="id_cat_clasificador_rubro_ingreso" calc="11" visible="false" columna-visible="false"/>
                        <campo name="id_clasificador_rubro_ingreso" text="Clasificador por Rubro del Ingreso" habilitado="false" columnas="3" margen-derecho="2" width="250" descripcionForanea="id_cat,descripcion" descripcionForaneaTabla="id_cat,descripcion"/>
                        <campo name="id_cat_fondo_contable" text="Fondo Contable" llaveForanea="false" visible="false" columna-visible="false" width="150" />
                        <campo name="id_fondo_contable" text="Fondo Contable" habilitado="false" columnas="3" margen-izquierdo="2" width="150" descripcionForanea="id_cat,descripcion" descripcionForaneaTabla="id_cat,descripcion"/>
                        <campo name="id_cat_unidad_ejecutora_gasto" text="Centro de Registro" llaveForanea="false" visible="false" columna-visible="false" width="150" />
                        <campo name="id_unidad_ejecutora_gasto" text="Centro de Registro" habilitado="false" columnas="3" margen-derecho="2" width="150" descripcionForanea="id_cat,descripcion" descripcionForaneaTabla="id_cat,descripcion"/>
                        <campo name="mes_cve_ingreso" visible="false" columna-visible="false" text="Mes" llaveForanea="false" calc="@fechaSistema(&quot;MM&quot;)" />
                        <campo name="clave_presupuestal" text="Clave Presupuestal" descripcionForanea="clave_presupuestal" columna-visible="true" columnas="3" margen-derecho="2" width="150" descripcionForaneaTabla="clave_presupuestal"/>
                        <campo name="cantidad" text="Cantidad" habilitado="false" columnas="3" margen-derecho="2" width="100" cellsalign="center" />
                        <campo name="importe" text="Importe" habilitado="false" columnas="3" margen-izquierdo="2" width="150" formatoMoneda="true"/>
                        <campo name="descuento" text="Descuento" habilitado="false" columnas="3" margen-derecho="2" width="120" formatoMoneda="true"/>
                        <campo name="iva" text="Impuesto al Valor Agregado" habilitado="false" columnas="3" margen-izquierdo="2" width="225" formatoMoneda="true" />
                        <campo name="total" text="Total" columna-visible="true" visible="false" formatoMoneda="true" width="120"/>-->
                        <!--<campo name="caratula" text="Caratula" local="true" type="file" update="true" fileType="normal" url="" nombreDocumento="CaratulaCuentaBancaria" grupo="" expediente="" columnas="3"  margen-izquierdo="2"/>-->
                   <!-- </tabla>
                    <estilos>
                        <boton nombre="grabar" visible="true" texto="Continuar" margen-izquierdo="4" columnas="2" margen-derecho="4" />
                    </estilos>
                    <acciones>
                        <accion nombre="grabar" hacer="saltar siguiente nivel" />
                    </acciones>
                </detalles>
            </componente>
        </nivel>-->
        <!--REPORTE DE SERVICIOS ESCOLARES-->
        <!--<nivel id="repReDeViEscolares" nombre="Reporte Único del Ejericicio del Presupuesto" mostrarNivelAnterior="false" mostarProximoNivel="false" ejecutar="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%==1">
            <componente id="repReDeViEscolares" nombre="Reporte de Devengado de Ingresos de Servicios Escolares" tipo="reporte">
                <reporte nombre="R_Dev_Serv_Escolares_IJ">
                    <campo name="ur" calc="%mdRegisDevIngrEscolares.mdRegisDevIngrEscolares.ur%" />
                    <campo name="periodo" calc="%mdRegisDevIngrEscolares.mdRegisDevIngrEscolares.periodo%" />
                    <campo name="folio_devengado_ingreso" calc="%mdRegisDevIngrEscolares.mdRegisDevIngrEscolares.folio_devengado_ingreso%" />
                    <campo name="usuario" local="true" type="string" calc="@castTo($protocolarios.user$,'string')" />
                </reporte>
            </componente>
        </nivel>-->
        <!--REPORTE DE OTRO SERVICIOS-->
        <nivel id="repReDeViOtros" nombre="Reporte Único del Ejericicio del Presupuesto" mostrarNivelAnterior="false" mostarProximoNivel="false" ><!--ejecutar="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%==2"-->
            <componente id="repReDeViOtros" nombre="Documento del Devengado de Ingresos" tipo="reporte">
                <reporte nombre="Dev_Otros_Ingresos_AL">
                    <campo name="ur" local="true" type="long" calc="%inParams.inParams.ur%" />
                    <campo name="periodo" local="true" type="long" calc="%inParams.inParams.periodo%" />
                    <campo name="folio_devengado" local="true" type="long" calc="%inParams.inParams.folio_devengado_ingreso%" />
                    <campo name="usuario" local="true" type="string" calc="@castTo($protocolarios.user$,'string')" />
                </reporte>
            </componente>
        </nivel>
        <!--AUTORIZAR SERVICIOS ESCOLARES -->
        <!--<nivel id="fomAutoriza" nombre="Reporte Único del Ejericicio del Presupuesto" mostrarNivelAnterior="false" mostrarProximoNivel="false" ejecutar="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%==1" > 
            <componente id="fomAutoriza" nombre="Autoriza Registro Devengado de Ingresos Servicios Escolares" tipo="formulario" accionDefault="editar">
                <tabla schema="operation" nombre="devengado_ingreso">
                    <campo name="ur" text="ur" calc="%inParams.inParams.ur%" visible="false" llaveForanea="false" />
                    <campo name="periodo" text="periodo" calc="%inParams.inParams.periodo%" llaveForanea="false" visible="false" />
                    <campo name="folio_devengado_ingreso" text="Folio" calc="%inParams.inParams.folio_devengado_ingreso%" llaveForanea="false" visible="false" />
                    <campo name="autoriza" text="Autoriza" columnas="2" margen-izquierdo="1"/>
                    <campo name="observaciones" text="Observaciones" height="200" interaccion="%autoriza%==false" columnas="2" margen-izquierdo="1" validacion="%autoriza%==false AND %observaciones%==null" validacionMensaje="Ingrese el motivo de rechazo en el campo observaciones" />
                </tabla>
                <acciones>
                    <accion nombre="grabar" hacer="saltar siguiente nivel" />
                </acciones>
                <estilos>
                    <boton nombre="grabar" texto="GUARDAR" margen-izquierdo="4" columnas="2" />
                </estilos>
            </componente>
        </nivel>-->
        <nivel id="cambioEstatus" nombre="cambioEstatus" interactivo="false" > <!--ejecutar="%fomAutoriza.fomAutoriza.autoriza%==true"-->
            <componente id="cambioEstatus" nombre="Cambio de Estatus" tipo="cursor" accionDefault="editar">
                <tabla schema="operation" nombre="devengado_ingreso">
                    <campo name="ur" text="Unidad Responsable" filtroCampo="ur" filtroOperador="=" filtroValor="$config.ur$" />
                    <campo name="periodo" text="Periodo" filtroCampo="periodo" filtroOperador="=" filtroValor="%inParams.inParams.periodo%" />
                    <campo name="folio_devengado_ingreso" filtroCampo="folio_devengado_ingreso" filtroOperador="=" filtroValor="%inParams.inParams.folio_devengado_ingreso%" />
                    <campo name="estatus" calc="2" />
                </tabla>
            </componente>
        </nivel>
                <!-- COMPONENTES SOLICITUD PARA NEGOCIAR LA INSTANCIA Y MANDAR MENSAJE DE RETROALIMENTACIÓN -->
        <!--<nivel nombre="TurnarInstanciaEs" id="EnlaceDynamoEs" interactivo="false" ejecutar="%fomAutoriza.fomAutoriza.autoriza%==false">
            <componente tipo="solicitud" nombre="Enlace con dynamo" id="EnlaceDynamo">
                <parametros url="$config.request$" metodo="POST" accion="negociarInstancia" tipo="json">
                    <parametro name="enterprise" calc="$protocolarios.enterprise$" />
                    <parametro name="process" calc="$protocolarios.process$" />
                    <parametro name="version" calc="$protocolarios.version$" />
                    <parametro name="instance" calc="$protocolarios.instance$" />
                    <parametro name="user" calc="$protocolarios.user$" />
                    <parametro name="url" calc="$protocolarios.url$" />
                    <parametro name="reiniciarInstancia" calc="'true'" />
                </parametros>
            </componente>
        </nivel>

        <nivel nombre="Instancia ValiddorEs" id="InstanciaValEs" interactivo="false" ejecutar="%fomAutoriza.fomAutoriza.autoriza%==false">
            <componente tipo="solicitud" nombre="EnvioParametrosDynamo" id="InstanciaVal">
                <parametros url="$config.request$" metodo="POST" accion="agregarMensaje" tipo="json">
                    <parametro name="enterprise" calc="$protocolarios.enterprise$" />
                    <parametro name="process" calc="$protocolarios.process$" />
                    <parametro name="version" calc="$protocolarios.version$" />
                    <parametro name="user" calc="$protocolarios.user$" />
                    <parametro name="instanceId" calc="$protocolarios.instance$" />
                    <parametro name="message" calc="%fomAutoriza.fomAutoriza.observaciones%" />
                    <parametro name="type" calc="'1'" />
                </parametros>
            </componente>
        </nivel>-->
        <!--AUTORIZA DE OTROS SERVICIOS-->
        <nivel id="fomAutorizaOt" nombre="Reporte Único del Ejericicio del Presupuesto" mostrarNivelAnterior="false" mostrarProximoNivel="false" > <!--ejecutar="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%==2"-->
            <componente id="fomAutorizaOt" nombre="Autoriza Registro Devengado de Otros Ingresos" tipo="formulario" accionDefault="editar">
                <tabla schema="operation" nombre="devengado_ingreso">
                    <campo name="ur" text="ur" calc="%inParams.inParams.ur%" visible="false" llaveForanea="false" />
                    <campo name="periodo" text="periodo" calc="%inParams.inParams.periodo%" llaveForanea="false" visible="false" />
                    <campo name="folio_devengado_ingreso" text="Folio" calc="%inParams.inParams.folio_devengado_ingreso%" llaveForanea="false" visible="false" />
                    <campo name="observaciones" text="Observaciones" height="200" interaccion="%autoriza%==false" columnas="2" margen-izquierdo="1" validacion="%autoriza%==false AND %observaciones%==null" validacionMensaje="Ingrese el motivo de rechazo en el campo observaciones" />
                     <campo name="autoriza" text="Autoriza" columnas="2" margen-izquierdo="1" />
                </tabla>
                <acciones>
                    <accion nombre="grabar" hacer="saltar siguiente nivel" />
                </acciones>
                <estilos>
                    <boton nombre="grabar" texto="GUARDAR" margen-izquierdo="4" columnas="2" />
                </estilos>
            </componente>
        </nivel>
        <nivel id="cambioEstatusO" nombre="cambioEstatus" interactivo="false" ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==true">
            <componente id="cambioEstatusO" nombre="Cambio de Estatus" tipo="cursor" accionDefault="editar">
                <tabla schema="operation" nombre="devengado_ingreso">
                    <campo name="ur" text="Unidad Responsable" filtroCampo="ur" filtroOperador="=" filtroValor="$config.ur$" />
                    <campo name="periodo" text="Periodo" filtroCampo="periodo" filtroOperador="=" filtroValor="%inParams.inParams.periodo%" />
                    <campo name="folio_devengado_ingreso" filtroCampo="folio_devengado_ingreso" filtroOperador="=" filtroValor="%inParams.inParams.folio_devengado_ingreso%" />
                    <campo name="estatus" calc="2" />
                </tabla>
            </componente>
        </nivel>
        <!-- COMPONENTES SOLICITUD PARA NEGOCIAR LA INSTANCIA Y MANDAR MENSAJE DE RETROALIMENTACIÓN-->
        <nivel nombre="TurnarInstancia" id="EnlaceDynamo" interactivo="false" ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==false">
            <componente tipo="solicitud" nombre="Enlace con dynamo" id="EnlaceDynamo">
                <parametros url="$config.request$" metodo="POST" accion="negociarInstancia" tipo="json">
                    <parametro name="enterprise" calc="$protocolarios.enterprise$"/>
                    <parametro name="process" calc="$protocolarios.process$"/>
                    <parametro name="version" calc="$protocolarios.version$"/>
                    <parametro name="instance" calc="$protocolarios.instance$"/>
                    <parametro name="user" calc="$protocolarios.user$"/>
                    <parametro name="url" calc="$protocolarios.url$"/>
                    <parametro name="reiniciarInstancia" calc="'true'" />
                </parametros>
            </componente>
        </nivel>
        <nivel nombre="Instancia Validdor" id="InstanciaVal" interactivo="false" ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==false">
            <componente tipo="solicitud" nombre="EnvioParametrosDynamo" id="InstanciaVal">
                <parametros url="$config.request$" metodo="POST" accion="agregarMensaje" tipo="json">
                    <parametro name="enterprise" calc="$protocolarios.enterprise$" />
                    <parametro name="process" calc="$protocolarios.process$" />
                    <parametro name="version" calc="$protocolarios.version$" />
                    <parametro name="user" calc="$protocolarios.user$" />
                    <parametro name="instanceId" calc="$protocolarios.instance$" />
                    <parametro name="message" calc="%fomAutorizaOt.fomAutorizaOt.observaciones%" />
                    <parametro name="type" calc="'1'" />
                </parametros>
            </componente>
        </nivel> 
        <!--OBTENER EL SEPARADOR PARA LOS PERIODOS-->
        <!--ejecutar="%fomAutoriza.fomAutoriza.autoriza%==true"-->
       <nivel id="obIdSeparador" nombre="obtenerSeparadorPeriodo" interactivo="false" > 
            <componente id="obIdSeparador" nombre="obtenerSeparadorPeriodo" tipo="cursor">
                <tabla schema="catalog" nombre="periodo">
                    <campo name="id_unidad_responsable" filtroCampo="id_unidad_responsable" filtroOperador="=" filtroValor="%inParams.inParams.ur%" llaveForanea="false" />
                    <campo name="id_periodo" filtroCampo="id_periodo" filtroOperador="=" filtroValor="%inParams.inParams.periodo%" llaveForanea="false" />
                    <campo name="id_separador" />
                </tabla>
            </componente>
        </nivel>

        <nivel id="obSeparador" nombre="obtenerSeparadorPeriodo" interactivo="false"  > <!--ejecutar="%fomAutoriza.fomAutoriza.autoriza%==true"-->
            <componente id="obSeparador" nombre="obtenerSeparadorPeriodo" tipo="cursor">
                <tabla schema="catalog" nombre="separador">
                    <campo name="id_separador" filtroCampo="id_separador" filtroOperador="=" filtroValor="%obIdSeparador.obIdSeparador.id_separador%" />
                    <campo name="caracter" />
                </tabla>
            </componente>
        </nivel>

        <!--GENERACIÓN DE LA PÓLIZA DE DEVENGADO DEL INGRESO ESCOLARES -->
        <!--<nivel id="nlEncabezadoPoliza" nombre="Generación del Encabezado de la Póliza" interactivo="false" ejecutar="%fomAutoriza.fomAutoriza.autoriza%==true">
            <componente id="nlEncabezadoPoliza" nombre="Generación del Encabezado de la Póliza" tipo="altaDirect">
                <tabla schema="operation" nombre="movimientos_auxiliares">
                    <campo name="ur" calc="%inParams.inParams.ur%" />
                    <campo name="periodo" calc="%inParams.inParams.periodo%" />
                    <campo name="folio_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />
                    <campo name="fecha_poliza" calc="@fechaSistema()" />
                    <campo name="id_catalogo" calc="@consultaDirec('SELECT id_cat_fondo_contable AS catalogo FROM operation.devengado_ingreso_detalle WHERE folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%+' LIMIT 1','catalogo','string','MAGNITUS')" />
                    <campo name="fondo_contable" calc="@consultaDirec('SELECT id_fondo_contable AS catalogo FROM operation.devengado_ingreso_detalle WHERE folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%+' LIMIT 1','catalogo','string','MAGNITUS')" />
                    <campo name="momento_contable" calc="8" />
                    <campo name="estatus_poliza" calc="2" />
                    <campo name="origen_poliza" calc="1" />
                    <campo name="tipo_poliza" calc="1" />
                    <campo name="folio_duri_devengado_ingreso" calc="%inParams.inParams.folio_devengado_ingreso%" />
                    <campo name="concepto_general" calc="@concatenar('Póliza del Presupuesto de Ingresos Devengado  del Documento Unico del Registro de Ingresos '+@consultaDirec('SELECT devengado_ingreso AS devengado FROM operation.devengado_ingreso WHERE folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%,'devengado','string','MAGNITUS')+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat
INNER JOIN operation.devengado_ingreso_detalle dit ON (cat.ur=dit.ur AND cat.id_periodo=dit.periodo)
WHERE cat.id_cat=(SELECT id_clasificador_rubro_ingreso FROM operation.devengado_ingreso_detalle where folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%+' LIMIT 1) AND cat.id_catalogo=11 AND dit.folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%,'descripcion','string','MAGNITUS'))" />
                    <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />
                    <campo name="folio_reporte" calc="
                    @concatenar(%inParams.inParams.id_periodo%+'-'+
                   @ifThenElse(%folio_movimiento_auxiliar% &lt; 10,'00000',
                   @ifThenElse(%folio_movimiento_auxiliar% &lt; 100,'0000',
                   @ifThenElse(%folio_movimiento_auxiliar% &lt; 1000,'000',
                   @ifThenElse(%folio_movimiento_auxiliar% &lt; 10000,'00',
                   @ifThenElse(%folio_movimiento_auxiliar% &lt; 100000,'0',null)))))+%folio_movimiento_auxiliar%)"/>
                </tabla>
            </componente>
        </nivel>

        <nivel id="nlBarridoDetalleDevengado" nombre="Barrido de los Detalles del Devengado del Ingreso" interactivo="false" ejecutar="%fomAutoriza.fomAutoriza.autoriza%==true">
            <componente id="nlBarridoDetalleDevengado" nombre="Barrido de los Detalles del Devengado del Ingreso" tipo="cursor">
                <tabla schema="operation" nombre="devengado_ingreso_detalle">
                    <campo name="ur" filtroCampo="ur" filtroOperador="=" filtroValor="%inParams.inParams.ur%" />
                    <campo name="periodo" filtroCampo="periodo" filtroOperador="=" filtroValor="%inParams.inParams.periodo%" />
                    <campo name="folio_devengado_ingreso" filtroCampo="folio_devengado_ingreso" filtroOperador="=" filtroValor="%inParams.inParams.folio_devengado_ingreso%" />
                    <campo name="folio_devengado_ingreso_det" />
                    <campo name="importe" />
                    <campo name="total" />
                    <campo name="clave_presupuestal"/>
                    <campo name="id_clasificador_rubro_ingreso"/>
                </tabla>
                <nivel id="altaDetalleCargo" nombre="Alta Detalle Cargo Devengado Ingreso" interactivo="false" ejecutar="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.ur%!=null">
                    <componente id="altaDetalleCargo" nombre="Alta Detalle Cargo Devengado Ingreso" tipo="altaDirect">
                        <tabla schema="operation" nombre="detalle_movimientos_auxiliares">
                            <campo name="ur" calc="%inParams.inParams.ur%" />
                            <campo name="id_periodo" calc="%inParams.inParams.periodo%" />
                            <campo name="id_movimiento_auxiliar" calc="%nlEncabezadoPoliza.nlEncabezadoPoliza.folio_movimiento_auxiliar%" />
                            <campo name="id_detalle_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />
                            <campo name="clave_presupuestal" calc="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.clave_presupuestal%" />
                            <campo name="clave_cuenta_contable" calc="@concatenar('8'+%obSeparador.obSeparador.caracter%+
                            '1'+%obSeparador.obSeparador.caracter%+
                            '2'+%obSeparador.obSeparador.caracter%+
                            '0'+%obSeparador.obSeparador.caracter%+'0')" />
                            <campo name="importe_cargo" calc="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.total%" />
                            <campo name="concepto_bloque" calc="@concatenar(%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.id_clasificador_rubro_ingreso%+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat WHERE cat.id_cat='+'\\''+%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.id_clasificador_rubro_ingreso%+'\\''+' AND cat.id_catalogo=11','descripcion','string','MAGNITUS'))" />
                            <campo name="referencia" calc="@consultaDirec('SELECT descripcion FROM catalog.cuentas_contables
                                WHERE clave_cuenta ='+'\\''+ @concatenar('8'+%obSeparador.obSeparador.caracter%+
                                '1'+%obSeparador.obSeparador.caracter%+
                                '2'+%obSeparador.obSeparador.caracter%+
                                '0'+%obSeparador.obSeparador.caracter%+'0') +'\\'','descripcion','string','MAGNITUS');" />
                            <campo name="fecha_registro" calc="@fechaSistema()" />
                            <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />
                            <campo name="tipo_detalle" calc="1" />
                        </tabla>
                    </componente>
                </nivel>-->

                <!--INGRESA EL ABONO DE LA PÓLIZA-->

               <!-- <nivel id="altaDetalleAbono" nombre="Alta Detalle Abono Devengado Ingreso" interactivo="false" ejecutar="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.ur%!=null">
                    <componente id="altaDetalleAbono" nombre="Alta Detalle Abono Devengado Ingreso" tipo="altaDirect">
                        <tabla schema="operation" nombre="detalle_movimientos_auxiliares">
                            <campo name="ur" calc="%inParams.inParams.ur%" />
                            <campo name="id_periodo" calc="%inParams.inParams.periodo%" />
                            <campo name="id_movimiento_auxiliar" calc="%nlEncabezadoPoliza.nlEncabezadoPoliza.folio_movimiento_auxiliar%" />
                            <campo name="id_detalle_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />
                            <campo name="clave_presupuestal" calc="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.clave_presupuestal%" />
                            <campo name="clave_cuenta_contable" calc="@concatenar('8'+%obSeparador.obSeparador.caracter%+
                            '1'+%obSeparador.obSeparador.caracter%+
                            '4'+%obSeparador.obSeparador.caracter%+
                            '0'+%obSeparador.obSeparador.caracter%+'0')" />
                            <campo name="importe_abono" calc="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.total%" />
                            <campo name="concepto_bloque" calc="@concatenar(%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.id_clasificador_rubro_ingreso%+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat WHERE cat.id_cat='+'\\''+%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.id_clasificador_rubro_ingreso%+'\\''+' AND cat.id_catalogo=11','descripcion','string','MAGNITUS'))" />
                            <campo name="referencia" calc="@consultaDirec('SELECT descripcion FROM catalog.cuentas_contables
                                WHERE clave_cuenta ='+'\\''+ @concatenar('8'+%obSeparador.obSeparador.caracter%+
                                '1'+%obSeparador.obSeparador.caracter%+
                                '4'+%obSeparador.obSeparador.caracter%+
                                '0'+%obSeparador.obSeparador.caracter%+'0') +'\\'','descripcion','string','MAGNITUS');" />
                            <campo name="fecha_registro" calc="@fechaSistema()" />
                            <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />
                            <campo name="tipo_detalle" calc="1" />
                        </tabla>
                    </componente>
                </nivel>
-->
                <!-- INGRESA EL CARGO A LA PÓLIZA (AFECTACIÓN PATRIMONIAL)-->
               <!-- <nivel id="nlAltaDirectDetalleCargoPat" nombre="Alta Detalle Cargo Adecuación" interactivo="false">
                    <componente id="cpAltaDirectDetalleCargoPat" nombre="Alta Detalle Cargo Adecuación" tipo="altaDirect">
                        <tabla schema="operation" nombre="detalle_movimientos_auxiliares">
                            <campo name="ur" calc="%inParams.inParams.ur%" />
                            <campo name="id_periodo" calc="%inParams.inParams.periodo%" />
                            <campo name="id_movimiento_auxiliar" calc="%nlEncabezadoPoliza.nlEncabezadoPoliza.folio_movimiento_auxiliar%" />
                            <campo name="id_detalle_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />
                            <campo name="clave_presupuestal" calc="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.clave_presupuestal%" />
                            <campo name="clave_cuenta_contable" calc="@concatenar('1'+%obSeparador.obSeparador.caracter%+
                            '1'+%obSeparador.obSeparador.caracter%+
                            '2'+%obSeparador.obSeparador.caracter%+
                            '2')" />
                            <campo name="importe_cargo" calc="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.total%" />
                            <campo name="concepto_bloque" calc="@concatenar(%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.id_clasificador_rubro_ingreso%+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat WHERE cat.id_cat='+'\\''+%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.id_clasificador_rubro_ingreso%+'\\''+' AND cat.id_catalogo=11','descripcion','string','MAGNITUS'))" />
                            <campo name="referencia" calc="@consultaDirec('SELECT descripcion FROM catalog.cuentas_contables
                                WHERE clave_cuenta ='+'\\''+ @concatenar('1'+%obSeparador.obSeparador.caracter%+
                                '1'+%obSeparador.obSeparador.caracter%+
                                '2'+%obSeparador.obSeparador.caracter%+
                                '2') +'\\'','descripcion','string','MAGNITUS');" />
                            <campo name="fecha_registro" calc="@fechaSistema()" />
                            <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />
                            <campo name="tipo_detalle" calc="2" />
                        </tabla>
                    </componente>
                </nivel>-->

                <!-- INGRESA EL ABONO A LA PÓLIZA (AFECTACIÓN PATRIMONIAL)-->
                <!--<nivel id="nlAltaDirectDetalleAbonoPat" nombre="Alta Detalle Abono Adecuación" interactivo="false">
                    <componente id="cpAltaDirectDetalleAbonoPat" nombre="Alta Detalle Abono Adecuación" tipo="altaDirect">
                        <tabla schema="operation" nombre="detalle_movimientos_auxiliares">
                            <campo name="ur" calc="%inParams.inParams.ur%" />
                            <campo name="id_periodo" calc="%inParams.inParams.periodo%" />
                            <campo name="id_movimiento_auxiliar" calc="%nlEncabezadoPoliza.nlEncabezadoPoliza.folio_movimiento_auxiliar%" />
                            <campo name="id_detalle_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />
                            <campo name="clave_presupuestal" calc="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.clave_presupuestal%" />
                            <campo name="clave_cuenta_contable" calc="@concatenar('4'+%obSeparador.obSeparador.caracter%+
                            '2'+%obSeparador.obSeparador.caracter%+
                            '1'+%obSeparador.obSeparador.caracter%+
                            '2')" />
                            <campo name="importe_abono" calc="%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.total%" />
                            <campo name="concepto_bloque" calc="@concatenar(%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.id_clasificador_rubro_ingreso%+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat WHERE cat.id_cat='+'\\''+%nlBarridoDetalleDevengado.nlBarridoDetalleDevengado.id_clasificador_rubro_ingreso%+'\\''+' AND cat.id_catalogo=11','descripcion','string','MAGNITUS'))" />
                            <campo name="referencia" calc="@consultaDirec('SELECT descripcion FROM catalog.cuentas_contables
                                WHERE clave_cuenta ='+'\\''+ @concatenar('4'+%obSeparador.obSeparador.caracter%+
                                '2'+%obSeparador.obSeparador.caracter%+
                                '1'+%obSeparador.obSeparador.caracter%+
                                '2') +'\\'','descripcion','string','MAGNITUS');" />
                            <campo name="fecha_registro" calc="@fechaSistema()" />
                            <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />
                            <campo name="tipo_detalle" calc="2" />
                        </tabla>
                    </componente>
                </nivel>

            </componente>-->
            <!-- INGRESA EL CARGO DE LA PÓLIZA-->
        <!--</nivel>-->

        <!--REPORTE DE LA POLIZA DE SERVICIOS ESCOLARES-->
        <!--<nivel id="repPoliza" nombre="Reporte Único del Ejericicio del Presupuesto" mostrarNivelAnterior="false" mostarProximoNivel="false" ejecutar="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%==1 AND %fomAutoriza.fomAutoriza.autoriza%==true">
            <componente id="repPoliza" nombre="Reporte Póliza de Devengado de Ingresos de Servicios Escolares" tipo="reporte">
                <reporte nombre="poliza_duri">
                    <campo name="ur" type="long" calc="%inParams.inParams.ur%" />
                    <campo name="periodo" type="long" calc="%inParams.inParams.periodo%" />
                    <campo name="folio_movimiento_auxiliar" type="long" calc="%nlEncabezadoPoliza.nlEncabezadoPoliza.folio_movimiento_auxiliar%" />
                </reporte>
            </componente>
        </nivel>
-->
        
        <!--PASO DE PARAMETROS PARA TERMINAR LA INSTANCIA EN EL ESCRITORIO VIRTUAL
        <nivel nombre="TurnarInstanciaEs" id="turnar_instanciaEs" interactivo="false" ejecutar="%fomAutoriza.fomAutoriza.autoriza%==true">
            <componente tipo="solicitud" nombre="Enlace con dynamo" id="EnlaceDynamo">
                <parametros url="$config.request$" metodo="POST" accion="terminarInstancia" tipo="json">
                    <parametro name="enterprise" calc="$protocolarios.enterprise$" />
                    <parametro name="process" calc="$protocolarios.process$" />
                    <parametro name="version" calc="$protocolarios.version$" />
                    <parametro name="instance" calc="$protocolarios.instance$" />
                    <parametro name="user" calc="$protocolarios.user$" />
                    <parametro name="url" calc="$protocolarios.url$" />
                </parametros>
            </componente>
        </nivel> -->
        <!--OTROS SERVICIOS CREACION DE MAESTRO DE DETALLE Y DE PÓLIZA-->
        <!--CREACIÓN DE PÓLIZA PARA OTROS SERVICIOS-->
        <!--OBTENER EL SEPARADOR PARA LOS PERIODOS-->
        <nivel id="obIdSeparadorOt" nombre="obtenerSeparadorPeriodo" interactivo="false" ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==true">
            <componente id="obIdSeparadorOt" nombre="obtenerSeparadorPeriodo" tipo="cursor">
                <tabla schema="catalog" nombre="periodo">
                    <campo name="id_unidad_responsable" filtroCampo="id_unidad_responsable" filtroOperador="=" filtroValor="%inParams.inParams.ur%" llaveForanea="false" />
                    <campo name="id_periodo" filtroCampo="id_periodo" filtroOperador="=" filtroValor="%inParams.inParams.periodo%" llaveForanea="false" />
                    <campo name="id_separador" />
                </tabla>
            </componente>
        </nivel>

        <nivel id="obSeparadorO" nombre="obtenerSeparadorPeriodo" interactivo="false" ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==true">
            <componente id="obSeparadorO" nombre="obtenerSeparadorPeriodo" tipo="cursor">
                <tabla schema="catalog" nombre="separador">
                    <campo name="id_separador" filtroCampo="id_separador" filtroOperador="=" filtroValor="%obIdSeparadorOt.obIdSeparadorOt.id_separador%" />
                    <campo name="caracter" />
                </tabla>
            </componente>
        </nivel>

        <!--GENERACIÓN DE LA PÓLIZA DE OTROS INGRESOS  -->
        <nivel id="nlEncabezadoPolizaOtros" nombre="Generación del Encabezado de la Póliza" interactivo="false" ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==true">
            <componente id="nlEncabezadoPolizaOtros" nombre="Generación del Encabezado de la Póliza" tipo="altaDirect">
                <tabla schema="operation" nombre="movimientos_auxiliares">
                    <campo name="ur" calc="%inParams.inParams.ur%" />
                    <campo name="periodo" calc="%inParams.inParams.periodo%" />
                    <campo name="folio_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />
                    <campo name="fecha_poliza" calc="@fechaSistema()" />
                    <campo name="id_catalogo" calc="@consultaDirec('SELECT id_cat_fondo_contable AS catalogo FROM operation.devengado_ingreso_detalle WHERE folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%+' LIMIT 1','catalogo','string','MAGNITUS')" />
                    <campo name="fondo_contable" calc="@consultaDirec('SELECT id_fondo_contable AS catalogo FROM operation.devengado_ingreso_detalle WHERE folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%+' LIMIT 1','catalogo','string','MAGNITUS')" />
                    <campo name="momento_contable" calc="8" />
                    <campo name="estatus_poliza" calc="2" />
                    <campo name="origen_poliza" calc="1" />
                    <campo name="tipo_poliza" calc="1" />
                    <campo name="folio_duri_devengado_ingreso" calc="%inParams.inParams.folio_devengado_ingreso%"  />
                    <campo name="concepto_general" calc="@concatenar('Póliza del Presupuesto de Ingresos Devengado  del Documento Unico del Registro de Ingresos '+@consultaDirec('SELECT devengado_ingreso AS devengado FROM operation.devengado_ingreso WHERE folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%,'devengado','string','MAGNITUS')+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat
INNER JOIN operation.devengado_ingreso_detalle dit ON (cat.ur=dit.ur AND cat.id_periodo=dit.periodo)
WHERE cat.id_cat=(SELECT id_clasificador_rubro_ingreso FROM operation.devengado_ingreso_detalle where folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%+' LIMIT 1) AND cat.id_catalogo=11 AND dit.folio_devengado_ingreso='+%inParams.inParams.folio_devengado_ingreso%,'descripcion','string','MAGNITUS'))"/>
                    <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />
                </tabla>
            </componente>
        </nivel>
        
         <!-- AGREGAR EL FOLIO AL ENCABEZADO DE LA POLIZA RPI -->
        <nivel id="AFOI" nombre="Agrega folio a Poliza  OI" interactivo="false" 
                ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==true">
			<componente id="AFOI" nombre="Agrega folio a Poliza OI" tipo="cursor">
				<tabla schema="operation" nombre="movimientos_auxiliares">
					<campo name="ur" filtroCampo="ur" filtroOperador="=" filtroValor="%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.ur%"/>
					<campo name="periodo" filtroCampo="periodo" filtroOperador="=" 
					       filtroValor="%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.periodo%"/>
					<campo name="folio_movimiento_auxiliar" filtroCampo="folio_movimiento_auxiliar" filtroOperador="=" 
					       filtroValor="%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar%"/>
					<campo name="folio_reporte" calc="@concatenar(%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.periodo%+'-'+
    					@ifThenElse(%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar% &lt;10,'00000',
    					@ifThenElse(%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar% &lt;100,'0000',
    					@ifThenElse(%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar% &lt;1000,'000',
    					@ifThenElse(%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar% &lt;10000,'00',
    					@ifThenElse(%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar% &lt;100000,'0','1')))))
					               +%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar%)"/>
				</tabla>
			</componente>
		</nivel>
        
        
        

        <nivel id="nlBarridoDetalleDevengadoOtros" nombre="Barrido de los Detalles del Devengado del Ingreso" interactivo="false" ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==true">
            <componente id="nlBarridoDetalleDevengadoOtros" nombre="Barrido de los Detalles del Devengado del Ingreso" tipo="cursor">
                <tabla schema="operation" nombre="devengado_ingreso_detalle">
                    <campo name="ur" filtroCampo="ur" filtroOperador="=" filtroValor="%inParams.inParams.ur%" />
                    <campo name="periodo" filtroCampo="periodo" filtroOperador="=" filtroValor="%inParams.inParams.periodo%" />
                    <campo name="folio_devengado_ingreso" filtroCampo="folio_devengado_ingreso" filtroOperador="=" filtroValor="%inParams.inParams.folio_devengado_ingreso%" />
                    <campo name="folio_devengado_ingreso_det" />
                    <campo name="importe" />
                    <campo name="total" />
                    <campo name="mes_cve_ingreso"/>
                    <campo name="clave_presupuestal"/>
                    <campo name="id_clasificador_rubro_ingreso"/>
                </tabla>
                
                
                 <!-- AFECTACION A CLAVE PRESUPUESTAL DEVENGADO -->
                <nivel id="ACP" nombre="Afectación a clave presupuestal" interactivo="false" ejecutar="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.mes_cve_ingreso%!=null AND %nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.clave_presupuestal%!=null"> 
                    <componente id="ACP" nombre="Barre Presupuesto de Egresos Mensual" tipo="cursor">
                        <tabla schema="operation" nombre="gestion_leyingreso_mes_det">
                            <campo name="ur" filtroCampo="ur" filtroOperador="=" filtroValor="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.ur%"/> 
                            <campo name="id_periodo" filtroCampo="id_periodo" filtroOperador="=" filtroValor="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.periodo%"/> 
                            <campo name="clave_presupuestal" filtroCampo="clave_presupuestal" filtroOperador="=" filtroValor="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.clave_presupuestal%"/>
                            <campo name="mes" filtroCampo="mes" filtroOperador="=" filtroValor="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.mes_cve_ingreso%"/>
                            <campo name="presupuesto_devengado" calc="%ACP.ACP.presupuesto_devengado% + %nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.total%"/>
                        </tabla>
                    </componente>
                </nivel>
                
                
                <nivel id="altaDetalleCargoOtros" nombre="Alta Detalle Cargo Devengado Ingreso" interactivo="false" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.ur%!=null">
                    <componente id="altaDetalleCargoOtros" nombre="Alta Detalle Cargo Devengado Ingreso" tipo="altaDirect">
                        <tabla schema="operation" nombre="detalle_movimientos_auxiliares">
                            <campo name="ur" calc="%inParams.inParams.ur%" />
                            <campo name="id_periodo" calc="%inParams.inParams.periodo%" />
                            <campo name="id_movimiento_auxiliar" calc="%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar%" />
                            <campo name="id_detalle_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />
                            <campo name="clave_presupuestal" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.clave_presupuestal%"/>
                            <campo name="clave_cuenta_contable" calc="@concatenar('8'+%obSeparadorO.obSeparadorO.caracter%+
                            '1'+%obSeparadorO.obSeparadorO.caracter%+
                            '2'+%obSeparadorO.obSeparadorO.caracter%+
                            '0'+%obSeparadorO.obSeparadorO.caracter%+
                            '0'+%obSeparadorO.obSeparadorO.caracter%+
                            '01'+%obSeparadorO.obSeparadorO.caracter%+
                            '00000'+%obSeparadorO.obSeparadorO.caracter%+
                            '000')" />
                            <campo name="importe_cargo" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.total%" />
                            <campo name="concepto_bloque" calc="@concatenar(%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.id_clasificador_rubro_ingreso%+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat WHERE cat.id_cat='+'\\''+%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.id_clasificador_rubro_ingreso%+'\\''+' AND cat.id_catalogo=11','descripcion','string','MAGNITUS'))" />
                            <campo name="referencia" calc="@consultaDirec('SELECT descripcion FROM catalog.cuentas_contables
                                WHERE clave_cuenta ='+'\\''+ @concatenar('8'+%obSeparadorO.obSeparadorO.caracter%+
                            '1'+%obSeparadorO.obSeparadorO.caracter%+
                            '2'+%obSeparadorO.obSeparadorO.caracter%+
                            '0'+%obSeparadorO.obSeparadorO.caracter%+
                            '0'+%obSeparadorO.obSeparadorO.caracter%+
                            '01'+%obSeparadorO.obSeparadorO.caracter%+
                            '00000'+%obSeparadorO.obSeparadorO.caracter%+
                            '000') +'\\'','descripcion','string','MAGNITUS');" />
                            <campo name="fecha_registro" calc="@fechaSistema(&quot;YYYY/MM/dd HH:mm:ss&quot;)" />
                            <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />
                            <campo name="tipo_detalle" calc="1"/>
                        </tabla>
                    </componente>
                </nivel>
                <nivel id="altaDetalleAbonoOtros" nombre="Alta Detalle Abono Devengado Ingreso" interactivo="false" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.ur%!=null">
                    <componente id="altaDetalleAbonoOtros" nombre="Alta Detalle Abono Devengado Ingreso" tipo="altaDirect">
                        <tabla schema="operation" nombre="detalle_movimientos_auxiliares">
                            <campo name="ur" calc="%inParams.inParams.ur%" />
                            <campo name="id_periodo" calc="%inParams.inParams.periodo%" />
                            <campo name="id_movimiento_auxiliar" calc="%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar%" />
                            <campo name="id_detalle_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />
                            <campo name="clave_presupuestal" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.clave_presupuestal%"/>
                            <campo name="clave_cuenta_contable" calc="@concatenar('8'+%obSeparadorO.obSeparadorO.caracter%+
                            '1'+%obSeparadorO.obSeparadorO.caracter%+
                            '4'+%obSeparadorO.obSeparadorO.caracter%+
                            '0'+%obSeparadorO.obSeparadorO.caracter%+
                            '0'+%obSeparadorO.obSeparadorO.caracter%+
                            '01'+%obSeparadorO.obSeparadorO.caracter%+
                            '00000'+%obSeparadorO.obSeparadorO.caracter%+
                            '000')" />
                            <campo name="importe_abono" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.total%" />
                            <campo name="concepto_bloque" calc="@concatenar(%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.id_clasificador_rubro_ingreso%+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat WHERE cat.id_cat='+'\\''+%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.id_clasificador_rubro_ingreso%+'\\''+' AND cat.id_catalogo=11','descripcion','string','MAGNITUS'))" />
                            <campo name="referencia" calc="@consultaDirec('SELECT descripcion FROM catalog.cuentas_contables
                                WHERE clave_cuenta ='+'\\''+ @concatenar('8'+%obSeparadorO.obSeparadorO.caracter%+
                            '1'+%obSeparadorO.obSeparadorO.caracter%+
                            '4'+%obSeparadorO.obSeparadorO.caracter%+
                            '0'+%obSeparadorO.obSeparadorO.caracter%+
                            '0'+%obSeparadorO.obSeparadorO.caracter%+
                            '01'+%obSeparadorO.obSeparadorO.caracter%+
                            '00000'+%obSeparadorO.obSeparadorO.caracter%+
                            '000') +'\\'','descripcion','string','MAGNITUS');" />
                            <campo name="fecha_registro" calc="@fechaSistema(&quot;YYYY/MM/dd HH:mm:ss&quot;)"/>
                            <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />
                            <campo name="tipo_detalle" calc="1"/>
                        </tabla>
                    </componente>
                </nivel>
                <!--<nivel id="altaDetalleCargoOtrosPatrimonial" nombre="Alta Detalle Cargo Devengado Ingreso Patrimonial" interactivo="false" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.ur%!=null">-->
                <!--    <componente id="altaDetalleAbonoOtros" nombre="Alta Detalle Abono Devengado Ingreso" tipo="altaDirect">-->
                <!--        <tabla schema="operation" nombre="detalle_movimientos_auxiliares">-->
                <!--            <campo name="ur" calc="%inParams.inParams.ur%" />-->
                <!--            <campo name="id_periodo" calc="%inParams.inParams.periodo%" />-->
                <!--            <campo name="id_movimiento_auxiliar" calc="%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar%" />-->
                <!--            <campo name="id_detalle_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />-->
                <!--            <campo name="clave_presupuestal" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.clave_presupuestal%"/>-->
                <!--            <campo name="clave_cuenta_contable" calc="@concatenar('1'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '1'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '2'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '2'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '0'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '01'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '00073'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '601')" />-->
                <!--            <campo name="importe_cargo" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.total%" />-->
                <!--            <campo name="concepto_bloque" calc="@concatenar(%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.id_clasificador_rubro_ingreso%+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat WHERE cat.id_cat='+'\\''+%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.id_clasificador_rubro_ingreso%+'\\''+' AND cat.id_catalogo=11','descripcion','string','MAGNITUS'))" />-->
                <!--            <campo name="referencia" calc="@consultaDirec('SELECT descripcion FROM catalog.cuentas_contables-->
                <!--                WHERE clave_cuenta ='+'\\''+ @concatenar('1'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '1'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '2'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '2'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '0'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '01'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '00073'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '601') +'\\'','descripcion','string','MAGNITUS');" />-->
                <!--            <campo name="fecha_registro" calc="@fechaSistema(&quot;YYYY/MM/dd HH:mm:ss&quot;)"/>-->
                <!--            <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />-->
                <!--            <campo name="tipo_detalle" calc="2"/>-->
                <!--        </tabla>-->
                <!--    </componente>-->
                <!--</nivel>-->
                <!--<nivel id="altaDetalleAbonoOtrosPatrimonial" nombre="Alta Detalle Abono Devengado Ingreso Patrimonial" interactivo="false" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.ur%!=null">-->
                <!--    <componente id="altaDetalleAbonoOtros" nombre="Alta Detalle Abono Devengado Ingreso" tipo="altaDirect">-->
                <!--        <tabla schema="operation" nombre="detalle_movimientos_auxiliares">-->
                <!--            <campo name="ur" calc="%inParams.inParams.ur%" />-->
                <!--            <campo name="id_periodo" calc="%inParams.inParams.periodo%" />-->
                <!--            <campo name="id_movimiento_auxiliar" calc="%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar%" />-->
                <!--            <campo name="id_detalle_movimiento_auxiliar" generacion="@prox()+1" autogenerado="true" />-->
                <!--            <campo name="clave_presupuestal" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.clave_presupuestal%"/>-->
                <!--            <campo name="clave_cuenta_contable" calc="@concatenar('4'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '1'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '7'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '3'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '0'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '73'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '00002'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '601')" />-->
                <!--            <campo name="importe_abono" calc="%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.total%" />-->
                <!--            <campo name="concepto_bloque" calc="@concatenar(%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.id_clasificador_rubro_ingreso%+' '+@consultaDirec('SELECT cat.descripcion AS descripcion FROM catalog.catalogos cat WHERE cat.id_cat='+'\\''+%nlBarridoDetalleDevengadoOtros.nlBarridoDetalleDevengadoOtros.id_clasificador_rubro_ingreso%+'\\''+' AND cat.id_catalogo=11','descripcion','string','MAGNITUS'))" />-->
                <!--            <campo name="referencia" calc="@consultaDirec('SELECT descripcion FROM catalog.cuentas_contables-->
                <!--                WHERE clave_cuenta ='+'\\''+ @concatenar('4'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '1'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '7'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '3'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '0'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '73'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '00002'+%obSeparadorO.obSeparadorO.caracter%+-->
                <!--            '601') +'\\'','descripcion','string','MAGNITUS');" />-->
                <!--            <campo name="fecha_registro" calc="@fechaSistema(&quot;YYYY/MM/dd HH:mm:ss&quot;)"/>-->
                <!--            <campo name="ultimo_usuario_modificador" calc="%barreUsuarios.barreUsuarios.id_usuario%" />-->
                <!--            <campo name="tipo_detalle" calc="2"/>-->
                <!--        </tabla>-->
                <!--    </componente>-->
                <!--</nivel>-->
            </componente>
        </nivel>

        <!--REPORTE DE LA POLIZA DE OTROS SERVICIOS -->
        <nivel id="repPolizaOtros" nombre="Reporte Único del Ejericicio del Presupuesto" mostrarNivelAnterior="false" mostarProximoNivel="false" > <!--ejecutar="%registraDevengadoIngresos.registraDevengadoIngresos.tipo_ingreso%==2"-->
            <componente id="repPolizaOtros" nombre="Póliza de Devengado de Ingresos" tipo="reporte" >
                <reporte nombre="poliza_duri" expediente="Expediente de Ingresos/Devengado de Ingresos" nombreDocumento="'Póliza'" grupo="$inParam.folio_ingreso$" url="$config.repository_upload_file$" update="true">
                    <campo name="ur" type="long" calc="%inParams.inParams.ur%" />
                    <campo name="periodo" type="long" calc="%inParams.inParams.periodo%" />
                    <campo name="folio_movimiento_auxiliar" type="long" calc="%nlEncabezadoPolizaOtros.nlEncabezadoPolizaOtros.folio_movimiento_auxiliar%" />
                </reporte>
            </componente>
        </nivel>
        <!--PASO DE PARAMETROS PARA TERMINAR LA INSTANCIA EN EL ESCRITORIO VIRTUAL -->
        <nivel nombre="TurnarInstanciaP" id="turnar_instanciaP" interactivo="false" ejecutar="%fomAutorizaOt.fomAutorizaOt.autoriza%==true">
            <componente tipo="solicitud" nombre="Enlace con dynamo" id="EnlaceDynamo">
                <parametros url="$config.request$" metodo="POST" accion="terminarInstancia" tipo="json">
                    <parametro name="enterprise" calc="$protocolarios.enterprise$" />
                    <parametro name="process" calc="$protocolarios.process$" />
                    <parametro name="version" calc="$protocolarios.version$" />
                    <parametro name="instance" calc="$protocolarios.instance$" />
                    <parametro name="user" calc="$protocolarios.user$" />
                    <parametro name="url" calc="$protocolarios.url$" />
                </parametros>
            </componente>
        </nivel> 
    </pagina>
</tarea>